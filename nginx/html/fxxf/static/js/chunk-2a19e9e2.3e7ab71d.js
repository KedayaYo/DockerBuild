(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a19e9e2"],{"4f8d":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:t.queryParams,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"模型名称",prop:"modelName"}},[r("el-input",{attrs:{placeholder:"请输入模型名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.modelName,callback:function(e){t.$set(t.queryParams,"modelName",e)},expression:"queryParams.modelName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:t.handleAdd}},[t._v("新增")])],1),r("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.getList}})],1),t.refreshTable?r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.uavList,"row-key":"menuId","default-expand-all":t.isExpandAll,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),r("el-table-column",{attrs:{prop:"modelName",align:"center",label:"模型名称"}}),r("el-table-column",{attrs:{prop:"modelCode",align:"center",label:"模型编号"}}),r("el-table-column",{attrs:{prop:"appearanceUrl",align:"center",label:"模型图路径"}}),r("el-table-column",{attrs:{prop:"brand",align:"center",label:"厂家"}}),r("el-table-column",{attrs:{prop:"modelProperty",align:"center",label:"模型属性"}}),r("el-table-column",{attrs:{prop:"modelType",align:"center",label:"类型"}}),r("el-table-column",{attrs:{prop:"remark",align:"center",width:"200px",label:"描述"}}),r("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(r){return t.handleUpdate(e.row)}}},[t._v("修改")]),r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(r){return t.handleDelete(e.row)}}},[t._v("删除")])]}}],null,!1,2899920778)})],1):t._e(),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}}),r("el-dialog",{attrs:{title:t.title,visible:t.open,width:"780px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"无人机名称",prop:"UAVName"}},[r("el-input",{attrs:{placeholder:"请输入无人机名称"},model:{value:t.form.UAVName,callback:function(e){t.$set(t.form,"UAVName",e)},expression:"form.UAVName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"机身SN",prop:"SN"}},[r("el-input",{attrs:{placeholder:"请输入机身SN"},model:{value:t.form.SN,callback:function(e){t.$set(t.form,"SN",e)},expression:"form.SN"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"fold_label",attrs:{label:"FCSN",required:!0,prop:"FCSN"}},[r("el-input",{attrs:{placeholder:"请输入序列号FCSN"},model:{value:t.form.FCSN,callback:function(e){t.$set(t.form,"FCSN",e)},expression:"form.FCSN"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"无人机型号",prop:"model"}},[r("el-input",{attrs:{placeholder:"请输入无人机型号"},model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"生产商",prop:"brand"}},[r("el-input",{attrs:{placeholder:"请输入生产商"},model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand",e)},expression:"form.brand"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"所属项目",prop:"projectID"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择项目"},model:{value:t.form.projectID,callback:function(e){t.$set(t.form,"projectID",e)},expression:"form.projectID"}},t._l(t.projectOptions,(function(t){return r("el-option",{key:t.projectID,attrs:{label:t.projectName,value:t.projectID}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"所属站点",prop:"siteID"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择站点"},model:{value:t.form.siteID,callback:function(e){t.$set(t.form,"siteID",e)},expression:"form.siteID"}},t._l(t.siteOptions,(function(t){return r("el-option",{key:t.siteID,attrs:{label:t.siteName,value:t.siteID}})})),1)],1)],1)],1),r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"备注",prop:"context"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.form.context,callback:function(e){t.$set(t.form,"context",e)},expression:"form.context"}})],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),r("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},o=[],a=r("eecf"),c=r("79d4"),u=r("5575"),i={name:"Project",data:function(){return{loading:!0,showSearch:!0,uavList:[],projectOptions:[],siteOptions:[],title:"",open:!1,isExpandAll:!1,refreshTable:!0,queryParams:{pageIndex:1,pageSize:10,modelName:void 0},form:{},rules:{UAVName:[{required:!0,message:"无人机名称不能为空",trigger:"blur"}],SN:[{required:!0,message:"机身SN不能为空",trigger:"blur"}],FCSN:[{required:!0,message:"序列号FCSN不能为空",trigger:"blur"}],model:[{required:!0,message:"无人机型号不能为空",trigger:"blur"}],brand:[{required:!0,message:"生产商不能为空",trigger:"blur"}],projectID:[{required:!0,message:"项目不能为空",trigger:"blur"}],siteID:[{required:!0,message:"站点不能为空",trigger:"blur"}]}}},created:function(){this.prejcetSelectList(),this.getList(),this.siteSelectList()},methods:{selected:function(t){this.form.icon=t},getList:function(){var t=this;this.loading=!0,Object(a["n"])(this.queryParams).then((function(e){var r=e.data;t.uavList=r.list,t.total=r.total,t.loading=!1}))},prejcetSelectList:function(){var t=this;Object(c["d"])(this.queryParams).then((function(e){t.projectOptions=e.data}))},siteSelectList:function(){var t=this;Object(u["z"])(this.queryParams).then((function(e){t.siteOptions=e.data.list}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={UAVName:void 0,SN:void 0,FCSN:void 0,model:void 0,brand:void 0,PID:void 0,siteID:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleUpdate:function(t){var e=this;this.reset(),Object(a["c"])(t.PID).then((function(t){e.form=t.data,e.open=!0,e.title="修改无人机"}))},handleAdd:function(){this.reset(),this.title="添加无人机",this.open=!0},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){e&&(void 0!=t.form.PID?Object(a["q"])(t.form).then((function(e){t.$modal.msgSuccess("修改成功"),t.open=!1,t.getList()})):Object(a["a"])(t.form).then((function(e){t.$modal.msgSuccess("新增成功"),t.open=!1,t.getList()})))}))},handleDelete:function(t){var e=this;this.$modal.confirm('是否确认删除无人机"'+t.UAVName+'"的数据项？').then((function(){return Object(a["b"])(t.PID)})).then((function(){e.getList(),e.$modal.msgSuccess("删除成功")})).catch((function(){}))}}},s=i,l=r("2877"),d=Object(l["a"])(s,n,o,!1,null,null,null);e["default"]=d.exports},5575:function(t,e,r){"use strict";r.d(e,"n",(function(){return a})),r.d(e,"h",(function(){return c})),r.d(e,"z",(function(){return u})),r.d(e,"a",(function(){return i})),r.d(e,"C",(function(){return s})),r.d(e,"E",(function(){return l})),r.d(e,"B",(function(){return d})),r.d(e,"j",(function(){return f})),r.d(e,"w",(function(){return m})),r.d(e,"k",(function(){return p})),r.d(e,"y",(function(){return b})),r.d(e,"t",(function(){return h})),r.d(e,"i",(function(){return g})),r.d(e,"F",(function(){return j})),r.d(e,"u",(function(){return v})),r.d(e,"r",(function(){return O})),r.d(e,"v",(function(){return _})),r.d(e,"q",(function(){return y})),r.d(e,"p",(function(){return k})),r.d(e,"f",(function(){return S})),r.d(e,"c",(function(){return w})),r.d(e,"d",(function(){return N})),r.d(e,"g",(function(){return P})),r.d(e,"e",(function(){return x})),r.d(e,"x",(function(){return I})),r.d(e,"s",(function(){return q})),r.d(e,"b",(function(){return D})),r.d(e,"o",(function(){return C})),r.d(e,"A",(function(){return A})),r.d(e,"D",(function(){return $}));var n=r("b775"),o=r("c38a");r("bc3a");function a(t){return Object(n["a"])({url:"/fcs/sites/"+Object(o["g"])(t),method:"get"})}function c(t){return Object(n["a"])({url:"/fcs/control/uavs/cancel_fly_point",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/fcs/sites/page",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/fcs/sites",method:"post",data:t})}function s(t,e,r){return Object(n["a"])({url:"/fcs/sites/bindHive/"+Object(o["g"])(t)+"/"+Object(o["g"])(e)+"/"+Object(o["g"])(r),method:"PATCH",data:{}})}function l(t,e,r){return Object(n["a"])({url:"/fcs/sites/bindUav/"+Object(o["g"])(t)+"/"+Object(o["g"])(e)+"/"+Object(o["g"])(r),method:"PATCH",data:{}})}function d(t){return Object(n["a"])({url:"/fcs/sites/"+Object(o["g"])(t.siteId),method:"PUT",data:t})}function f(t){return Object(n["a"])({url:"/fcs/sites/"+Object(o["g"])(t),method:"delete"})}function m(t){return Object(n["a"])({url:"/fcs/missions",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/fcs/missions/"+Object(o["g"])(t)+"/"+Object(o["g"])("-1"),method:"PATCH"})}function b(t){return Object(n["a"])({url:"/fcs/missions",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/fcs/missions/"+Object(o["g"])(t),method:"get"})}function g(t){return Object(n["a"])({url:"/fcs/cronmissions/cd/list",method:"get",params:t})}function j(t){return Object(n["a"])({url:"/fcs/cronmissions/validlist",method:"get",params:t})}function v(t,e){return Object(n["a"])({url:t,method:"post",data:e})}function O(t){return Object(n["a"])({url:"/fcs/uavaction/mediasetting",method:"post",params:t})}function _(t){return Object(n["a"])({url:"/fcs/control/uavs/fly_point",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/fcs/uavaction/locationsetting",method:"post",params:t})}function k(t){return Object(n["a"])({url:"/fcs/uavaction/gimbalsetting",method:"post",params:t})}function S(t){return Object(n["a"])({url:"/fcs/control/uavs/camera_set_zoom",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/fcs/control/uavs/camera_aim",method:"post",data:t})}function N(t){return Object(n["a"])({url:"/fcs/control/uavs/camera_mode_switch",method:"post",data:t})}function P(t){return Object(n["a"])({url:"/fcs/control/uavs/camera_take_photo",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/fcs/control/uavs/camera_recording",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/fcs/rcsetting",method:"post",params:t})}function q(t){return Object(n["a"])({url:"/fcs/control/uav_missions/perform_task",method:"post",data:t})}function D(t){return Object(n["a"])({url:"/fcs/task_manage/uav_task/task_progress/"+Object(o["g"])(t),method:"get"})}function C(t){return Object(n["a"])({url:"/fcs/task_manage/uav_task/task_log_info/"+Object(o["g"])(t),method:"get"})}function A(t){return Object(n["a"])({url:"/fcs/control/uavs/uav_manual",method:"post",data:t})}function $(t,e){return Object(n["a"])({url:"/fcs/task_manage/uav_task/ir_dect_results/update_status/"+Object(o["g"])(t)+"/"+Object(o["g"])(e),method:"PATCH"})}},"79d4":function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return c})),r.d(e,"f",(function(){return u})),r.d(e,"b",(function(){return i})),r.d(e,"d",(function(){return s}));var n=r("b775");r("c38a");function o(t){return Object(n["a"])({url:"/auth/ProjectManage/ProjectInfoList",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/auth/ProjectManage/projectDetail?projectID="+t,method:"get"})}function c(t){return Object(n["a"])({url:"/auth/ProjectManage/insertProjectInfo",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/auth/ProjectManage/updateProjectInfo",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/auth/ProjectManage/deleteProject?projectID="+t,method:"get"})}function s(t){return Object(n["a"])({url:"/fcs/sites",method:"get",params:t})}},eecf:function(t,e,r){"use strict";r.d(e,"n",(function(){return a})),r.d(e,"r",(function(){return c})),r.d(e,"p",(function(){return u})),r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return d})),r.d(e,"h",(function(){return f})),r.d(e,"e",(function(){return m})),r.d(e,"a",(function(){return p})),r.d(e,"q",(function(){return b})),r.d(e,"b",(function(){return h})),r.d(e,"m",(function(){return g})),r.d(e,"s",(function(){return j})),r.d(e,"o",(function(){return v})),r.d(e,"f",(function(){return O})),r.d(e,"l",(function(){return _})),r.d(e,"g",(function(){return y})),r.d(e,"k",(function(){return k}));var n=r("b775"),o=r("c38a");r("bc3a");function a(t){return Object(n["a"])({url:"/fcs/device/uavs/page",method:"get",params:t})}function c(t,e){return Object(n["a"])({url:"/fcs/device/uavs/"+Object(o["g"])(t)+"/"+Object(o["g"])(e),method:"PATCH"})}function u(t){return Object(n["a"])({url:"/fcs/device/uavs/unbindSite/"+Object(o["g"])(t),method:"PATCH"})}function i(){return Object(n["a"])({url:"/fcs/device/uavs",method:"get"})}function s(t){return Object(n["a"])({url:"/fcs/device/uavs/"+Object(o["g"])(t),method:"get"})}function l(t){return Object(n["a"])({url:"/fcs/control/live/live_start",method:"POST",data:t})}function d(t){return Object(n["a"])({url:"/fcs/control/live/live_stop",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/fcs/control/live/live_lens",method:"POST",data:t})}function m(t){return Object(n["a"])({url:"/fcs/control/uavs/gimbal_reset",method:"POST",data:t})}function p(t){return Object(n["a"])({url:"/fcs/device/uavs",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/fcs/device/uavs/"+Object(o["g"])(t.uavId),method:"put",data:t})}function h(t){return Object(n["a"])({url:"/fcs/device/uavs/"+Object(o["g"])(t),method:"delete"})}function g(t){return Object(n["a"])({url:"/fcs/police_case/page",method:"get",params:t})}function j(){return Object(n["a"])({url:"/fcs/warn_history_statistical/info",method:"get"})}function v(){return Object(n["a"])({url:"/fcs/uav_state_statisticals",method:"get"})}function O(){return Object(n["a"])({url:"/fcs/hive_state_statisticals",method:"get"})}function _(){return Object(n["a"])({url:"/fcs/monitor_police_cases",method:"get"})}function y(t){return Object(n["a"])({url:"/fcs/task_manage/uav_task/ir_dect_result_page",method:"get",params:t})}function k(t){return Object(n["a"])({url:"/fcs/mandatory_exec_flight_mission",method:"post",data:t})}}}]);