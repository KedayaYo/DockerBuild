(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7896"],{"76de":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{xs:20}},[o("el-row",{staticClass:"mb8",attrs:{gutter:10}},[o("el-col",{attrs:{span:1.5}},[o("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-s-tools",size:"mini"},on:{click:t.handleAdd}},[t._v("设置")])],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.userList}},[o("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),o("el-table-column",{key:"title",attrs:{label:"标题",align:"center",prop:"title"}}),o("el-table-column",{key:"logo",attrs:{label:"图标",align:"center",prop:"logo"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("el-image",{attrs:{src:t.row.logo}})]}}])})],1)],1)],1),o("el-dialog",{attrs:{title:t.title,visible:t.open,width:"600px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[o("el-row",[o("el-col",[o("el-form-item",{attrs:{label:"标题",prop:"userName"}},[o("el-input",{attrs:{placeholder:"请输入标题",maxlength:"30"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)],1),o("el-row",[o("el-col",[o("el-form-item",{attrs:{label:"图片",prop:"logo"}},[t.form.logo?t._e():o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"#","http-request":t.requestUpload,"show-file-list":!1,"before-upload":t.beforeUpload,multiple:""}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),o("em",[t._v("点击上传")])]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),t.form.logo?o("el-image",{attrs:{src:t.form.logo,"preview-src-list":t._f("filterImg")(t.form.logo)}}):t._e()],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),o("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},i=[],a=(o("14d9"),o("c0c7")),s=(o("5f87"),o("ca17"),o("542c"),o("852e")),r=o.n(s),n={name:"Index",data:function(){return{form:{},loading:!0,userList:[],title:"",open:!1}},created:function(){this.getList()},filters:{filterImg:function(t){return"string"===typeof t?t.split("|"):t}},methods:{requestUpload:function(){},getList:function(){var t=this;this.loading=!0,this.userList=[],Object(a["m"])().then((function(e){var o=e.data;r.a.set("title",o.title),r.a.set("logo",o.logo),console.error(">>>>>>>>>>>>>>>>>>>>>>>>>>>logo",r.a.get("logo")),t.userList.push(o),t.loading=!1}))},beforeUpload:function(t){var e=this;if(-1==t.type.indexOf("image/"))this.$modal.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var o=new FileReader;o.readAsDataURL(t),o.onload=function(){e.form.logo=o.result}}},cancel:function(){this.open=!1,this.openEdit=!1,this.reset()},reset:function(){this.form={}},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="LOGO设置"},submitForm:function(){var t=this;t.$refs["form"].validate((function(e){e&&Object(a["b"])(t.form).then((function(e){t.$modal.msgSuccess("配置成功，请退出浏览器重新打开"),t.open=!1,t.getList()}))}))}}},c=n,u=o("2877"),d=Object(u["a"])(c,l,i,!1,null,null,null);e["default"]=d.exports}}]);