(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-028f15e3","chunk-2d0dabaf"],{"01d7":function(t,e,i){t.exports=i.p+"static/img/大雨.8cb7b345.png"},"0ccb":function(t,e,i){var a=i("e330"),s=i("50c4"),n=i("577e"),l=i("1148"),o=i("1d80"),r=a(l),c=a("".slice),d=Math.ceil,u=function(t){return function(e,i,a){var l,u,f=n(o(e)),m=s(i),h=f.length,p=void 0===a?" ":n(a);return m<=h||""==p?f:(l=m-h,u=r(p,d(l/p.length)),u.length>l&&(u=c(u,0,l)),t?f+u:u+f)}};t.exports={start:u(!1),end:u(!0)}},"10c5":function(t,e,i){"use strict";i("3050")},"1b49":function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"e",(function(){return l})),i.d(e,"a",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"b",(function(){return u}));var a=i("b775"),s=i("c38a");function n(t){return console.info(t),Object(a["a"])({url:"/fcs/device/hives/page",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/fcs/device/hives/"+Object(s["g"])(t),method:"get"})}function o(t){return Object(a["a"])({url:"/fcs/device/hives",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/fcs/device/hives/"+Object(s["g"])(t.hiveId),method:"PUT",data:t})}function c(t){return Object(a["a"])({url:"/fcs/device/hives/"+Object(s["g"])(t),method:"delete"})}function d(){return Object(a["a"])({url:"/fcs/device/hives",method:"get"})}function u(t){return Object(a["a"])({url:"/fcs/device/hives/unbindSite/"+Object(s["g"])(t),method:"patch",data:{}})}},"1e4b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"wrap",class:{active:t.isFullScreen}},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.toggleFullScreen}},[a("i",{class:[t.isFullScreen?"off":"on"]}),t._v(" 全屏 ")]),a("h1",[t._v(t._s(t.logoTitle))])],1),a("div",{staticClass:"panelWrap"},[a("div",{staticClass:"leftPanel",class:{show:t.showLeftPanel}},[a("i",{staticClass:"toggle",on:{click:function(e){t.showLeftPanel=!t.showLeftPanel}}}),a("div",{staticClass:"block block1",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("天气预报")]),a("div",[a("span",[t._v("城市：上海市奉贤区")]),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("风力："+t._s(t.weather.windSpeed))]),a("span",{staticClass:"weathertext"},[t._v(t._s(t.tianqiData(t.weather.rainfall)))]),t.weather?a("span",{staticClass:"temperature"},[t._v(t._s(t.weather.outTemp)+"℃")]):t._e(),a("div",{staticClass:"weather"},[0==t.weather.rainfall?a("img",{staticStyle:{width:"85px",height:"85px"},attrs:{src:i("2734")}}):t._e(),1==t.weather.rainfall?a("img",{staticStyle:{width:"85px",height:"85px"},attrs:{src:i("64b3")}}):t._e(),2==t.weather.rainfall?a("img",{staticStyle:{width:"85px",height:"85px"},attrs:{src:i("8e62")}}):t._e(),3==t.weather.rainfall?a("img",{staticStyle:{width:"85px",height:"85px"},attrs:{src:i("01d7")}}):t._e(),a("div",{staticClass:"weathertext",staticStyle:{"font-size":"42px"}},[t._v(" "+t._s(0==t.weather.rainfall?"今日适宜飞行":"今日不宜飞行")+" ")])])])]),a("div",{staticClass:"block",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("119报警数据")]),a("div",{staticClass:"con"},[t._m(0),a("div",{staticStyle:{"overflow-y":"scroll",height:"78%"}},t._l(t.policeCasePages,(function(e,i){return a("div",{key:i,staticClass:"tbody"},[a("div",{staticClass:"th",staticStyle:{display:"-webkit-box"},on:{click:function(i){return t.dinwei119(e)}}},[a("div",{staticStyle:{width:"10%","align-items":"center",display:"flex"}},[t._v(t._s(i+1))]),a("div",{staticStyle:{"font-size":"smaller",width:"50%","align-items":"center",display:"flex"},attrs:{title:e.AFDZ}},[t._v(t._s(e.AFDZ.substr(0,15)))]),a("div",{staticStyle:{width:"20%","align-items":"center",display:"flex"}},[a("span",{staticClass:"level red"},[t._v(t._s(e.AJDJDM))])]),a("div",{staticStyle:{"font-size":"smaller",width:"20%","align-items":"center",display:"flex"}},[t._v(" "+t._s(e.AJZTMC)+" ")])])])})),0)])]),t.isFlag119?a("div",{ref:"infoData119",staticClass:"custom-info input-card content-window-card"},[a("el-form",{ref:"form",staticStyle:{padding:"10px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"案件类型：",prop:"uavSN"}},[a("label",[t._v(t._s(t.item119.AJLXMC))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"案发地址：",prop:"isHaveComputer"}},[a("label",[t._v(t._s(t.item119.AFDZ))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"行政区划：",prop:"uavName"}},[a("label",[t._v(t._s(t.item119.XZQHMC))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"案件状态：",prop:"uavSN"}},[a("label",[t._v(t._s(t.item119.AJZTMC))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"变动时间：",prop:"uavName"}},[a("label",[t._v(t._s(t.item119.BDSJ))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"案件等级：",prop:"uavSN"}},[a("label",[t._v(t._s(t.item119.AJDJDM))])])],1)],1)],1),a("div",{staticStyle:{width:"100%","text-align":"center",padding:"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.openOneJianQiFei(t.item119.AJID)}}},[t._v(" 一键起飞 ")])],1)],1):t._e(),a("div",{staticClass:"block block3",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("AI高温信息预警")]),a("div",{staticClass:"con"},[t._m(1),a("div",{staticStyle:{"overflow-y":"scroll",height:"78%"}},t._l(t.irDectResultPages,(function(e,i){return a("div",{key:i,staticClass:"tbody"},[a("div",{staticClass:"th"},[a("div",{staticClass:"td number"},[t._v(t._s(i+1))]),a("div",{staticClass:"td"},[t._v(t._s(e.address))]),a("div",{staticClass:"td",staticStyle:{flex:"unset",width:"120px"}},[a("span",{staticClass:"level red"},[t._v(t._s(e.thermalGlobalTemperatureMax)+"°C")])])])])})),0)])])]),a("div",{staticClass:"mapPanel"},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}}),a("div",{ref:"infoData",staticClass:"custom-info input-card content-window-card"},[a("div",{staticClass:"info-top"},[a("div",[a("span"),a("span",{staticClass:"stutas",class:{online:!0,offline:!1},staticStyle:{"font-size":"11px","margin-left":"20px"}},[t._v("状态："+t._s(t.getStatus(t.hiveData.status))+" ")])]),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.openFlight(t.hiveData)}}},[t._v(" 打开控制中心 ")])],1),a("div",[a("span",{staticStyle:{color:"white"}},[t._v(t._s(t.hiveData.siteName))])])]),a("div",{staticClass:"info-middle"},[a("img",{staticClass:"info-img",attrs:{src:t.dzjk}}),a("span",{staticClass:"info-span"},[t._v(" 119警情数量："+t._s(t.hiveData.policeTotal)+"件 ")]),a("div",{staticClass:"info-div"},[t._v("温度： "+t._s(t.weather.outTemp)+"摄氏度")]),a("span",{staticClass:"info-span"},[t._v(" 湿度："+t._s(t.weather.inHumidity)+"%rh "),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.videoFlag,expression:"videoFlag"}],staticClass:"videoWrap"},[a("video",{ref:"vPull1",attrs:{id:"vPull1",autoplay:"",width:"100%",height:"100%"}})])])])])]),t.msgInfoFlag?t._e():a("div",{staticClass:"rightPanel",class:{show:t.showRightPanel}},[a("i",{staticClass:"toggle",on:{click:function(e){t.showRightPanel=!t.showRightPanel}}}),a("div",{staticClass:"block block1",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("预警历史统计")]),a("div",{staticClass:"con"},[a("div",[t._m(2),t.warnHistoryStatisticalInfos?a("span",{staticClass:"count"},[t._v(t._s(t.warnHistoryStatisticalInfos.warnTotal))]):t._e()]),a("div",[t._m(3),t.warnHistoryStatisticalInfos?a("span",{staticClass:"count"},[t._v(t._s(t.warnHistoryStatisticalInfos.policeCaseWarnTotal))]):t._e()]),a("div",[t._m(4),t.warnHistoryStatisticalInfos?a("span",{staticClass:"count"},[t._v(t._s(t.warnHistoryStatisticalInfos.aiHyperthermyWarnTotal))]):t._e()]),a("div",[t._m(5),t.warnHistoryStatisticalInfos?a("span",{staticClass:"count"},[t._v(t._s(t.warnHistoryStatisticalInfos.flightTaskTotal))]):t._e()])])]),a("div",{staticClass:"block block3",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("无人机状态信息")]),a("div",{staticClass:"con"},[t._m(6),a("div",{staticStyle:{"overflow-y":"scroll",height:"78%"}},t._l(t.uavStateStatisticalss,(function(e,i){return a("div",{key:i,staticClass:"tbody"},[a("div",{staticClass:"th"},[a("div",{staticClass:"td",staticStyle:{"font-size":"smaller",width:"20px"}},[t._v(t._s(i+1))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"},attrs:{title:e.uavName}},[t._v(t._s(e.uavName.substr(0,4)))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v(t._s(1==e.flightState?"飞行中":"在库")+" ")]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"},style:{color:1==e.isOnline?"":"red"}},[t._v(t._s(1==e.isOnline?"在线":"离线"))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v(t._s(e.electricity)+" ")]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v(t._s(e.deviceNextCheckTime))])])])})),0)])]),a("div",{staticClass:"block block3",staticStyle:{height:"33%"}},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("机场状态信息")]),a("div",{staticClass:"con"},[t._m(7),a("div",{staticStyle:{"overflow-y":"scroll",height:"78%"}},t._l(t.hiveStatStatisticalss,(function(e,i){return a("div",{key:i,staticClass:"tbody"},[a("div",{staticClass:"th"},[a("div",{staticClass:"td",staticStyle:{"font-size":"smaller",width:"20px"}},[t._v(t._s(i+1))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"},attrs:{title:e.hiveName}},[t._v(t._s(e.hiveName.substr(0,5)))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"},style:{color:1==e.isOnline?"":"red"}},[t._v(t._s(1==e.isOnline?"在线":"离线"))]),a("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v(t._s(e.deviceNextCheckTime))])])])})),0)])])]),t.msgInfoFlag?a("div",{staticClass:"rightPanel",class:{show:t.showRightPanel}},[a("i",{staticClass:"toggle",on:{click:function(e){t.showRightPanel=!t.showRightPanel}}}),a("div",{ref:"msgInfo",staticClass:"msgInfo block_info block3"},[a("i"),a("i"),a("i"),a("i"),a("div",{staticClass:"title"},[t._v("无人机报文信息 "),a("span",{staticClass:"stutas",class:0==t.shishiDetail.isOnline||null==t.shishiDetail?"offline":"online"},[t._v(" "+t._s(1==t.shishiDetail.isOnline?"在线":"离线")+" ")]),a("span",{staticStyle:{cursor:"pointer",color:"#00afff","padding-left":"20px"},on:{click:t.openVideoWrj}},[t._v("无人机视角")]),a("span",{staticStyle:{cursor:"pointer",color:"#00afff","padding-left":"20px"},on:{click:t.msgInfoClose}},[t._v("关闭")])]),a("div",{staticClass:"con"},t._l(t.msgInfo,(function(e,s){return a("div",{key:s,staticClass:"df"},[a("div",{staticClass:"img",style:{backgroundImage:"url("+i("7dab")("./"+e.img+".png")+")"}}),a("div",{staticClass:"right"},[a("div",[t._v(t._s(e.value)+t._s(e.unit?e.unit:""))]),a("div",[t._v(t._s(e.name))])])])})),0)])]):t._e(),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{"margin-left":"22%","margin-top":"4%"},attrs:{title:"无人机视角",width:"44.8%",visible:t.uavOpen,"close-on-click-modal":!1,id:"uavContent","before-close":t.handleUavClose,modal:!1},on:{"update:visible":function(e){t.uavOpen=e}}},[a("div",{staticClass:"player-group",attrs:{id:"uayPlayer"}})]),a("el-dialog",{staticStyle:{"margin-top":"20%"},attrs:{title:"119一键起飞配置",visible:t.isOneJianQiFei,width:"25%","append-to-body":"","close-on-click-modal":!1,"before-close":t.cancel},on:{"update:visible":function(e){t.isOneJianQiFei=e}}},[a("el-form",{ref:"form",attrs:{model:t.oneJianQiFeiParams,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高度"}},[a("el-input-number",{staticStyle:{width:"200px",float:"left"},attrs:{placeholder:"高度"},model:{value:t.oneJianQiFeiParams.targetHeight,callback:function(e){t.$set(t.oneJianQiFeiParams,"targetHeight",e)},expression:"oneJianQiFeiParams.targetHeight"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"速度"}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:"速度"},model:{value:t.oneJianQiFeiParams.flightSpeed,callback:function(e){t.$set(t.oneJianQiFeiParams,"flightSpeed",e)},expression:"oneJianQiFeiParams.flightSpeed"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.oneJianQiFei}},[t._v("确 定")]),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{"margin-left":"22%","margin-top":"25%",height:"83%"},attrs:{title:t.AItitle,width:"44.8%",visible:t.AIFlag,modal:!1,"append-to-body":"","close-on-click-modal":!1,"before-close":t.cancel},on:{"update:visible":function(e){t.AIFlag=e}}},[a("div",{staticStyle:{"line-height":"20px"}},[a("table",{staticStyle:{"line-height":"23px",width:"100%","border-bottom":"1px solid gainsboro","border-top":"1px solid gainsboro","border-left":"1px solid gainsboro","border-right":"1px solid gainsboro","border-radius":"10px"}},[a("tr",[a("td",[t._v("最低温度:")]),a("td",[t._v(t._s(t.thermalGlobalTemperatureMin)+"摄氏度")]),a("td",[t._v("最高温度:")]),a("td",[t._v(t._s(t.thermalGlobalTemperatureMax)+"摄氏度")])])])]),a("el-carousel",{attrs:{interval:4e3,type:"card",height:"170px"}},t._l(t.carImgList,(function(t){return a("el-carousel-item",{key:t},[a("img",{staticStyle:{width:"300px",height:"320px"},attrs:{src:t}})])})),1),a("div",{staticStyle:{"text-align-last":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateStatus("2")}}},[t._v("异常确认")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateStatus("1")}}},[t._v("无异常")])],1)],1)],1)])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thead"},[i("div",{staticStyle:{width:"10%","align-items":"center",display:"flex"}},[t._v("序号")]),i("div",{staticStyle:{width:"50%","align-items":"center",display:"flex"}},[t._v("地址")]),i("div",{staticStyle:{width:"20%","align-items":"center",display:"flex"}},[t._v("级别")]),i("div",{staticStyle:{width:"20%","align-items":"center",display:"flex"}},[t._v("状态")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thead"},[i("div",{staticClass:"td number"},[t._v("序号")]),i("div",{staticClass:"td"},[t._v("地址")]),i("div",{staticClass:"td",staticStyle:{flex:"unset",width:"120px"}},[t._v("温度")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i"),i("span",{staticClass:"name",staticStyle:{"font-size":"small"}},[t._v("预警信息总数")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i"),i("span",{staticClass:"name",staticStyle:{"font-size":"small"}},[t._v("119报警总数")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i"),i("span",{staticClass:"name",staticStyle:{"font-size":"small"}},[t._v("AI高温预警总数")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i"),i("span",{staticClass:"name",staticStyle:{"font-size":"small"}},[t._v("累计飞行总数")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thead"},[i("div",{staticClass:"td",staticStyle:{"font-size":"smaller",width:"20px"}},[t._v("序号")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("设备名称")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("飞行状态")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("设备状态")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("电量")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("保养时间")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thead"},[i("div",{staticClass:"td",staticStyle:{"font-size":"smaller",width:"20px"}},[t._v("序号")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("设备名称")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("设备状态")]),i("div",{staticClass:"td",staticStyle:{"font-size":"smaller"}},[t._v("保养时间")])])}],n=i("c7eb"),l=i("1da1"),o=(i("d81d"),i("a9e3"),i("7db0"),i("d3b7"),i("159b"),i("14d9"),i("3ca3"),i("ddb0"),i("99af"),i("b0c0"),i("4d90"),i("25f0"),i("a15b"),i("b680"),i("313e")),r=(i("e11e"),i("d451"),i("6d9d")),c=i.n(r),d=i("5575"),u=i("85bc"),f=i("2f7e"),m=i.n(f),h=(i("b1f3"),i("6e00")),p=i.n(h),v=i("ca47"),g=i.n(v),b=(i("bc3a"),i("61cf"),i("1b49")),y=i("fc78"),_=i.n(y),j=i("eecf"),S=i("71ba"),w=i.n(S),k=(i("fba6"),i("93bf"),i("852e")),C=i.n(k);window._AMapSecurityConfig={securityJsCode:"e0dc8bcc188ebcafc5a009c027fe8aa9"};var x={name:"Index1",components:{Video:u["default"]},sockets:{connecting:function(){console.log("正在连接")},connect:function(){console.log("正在连接。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。"),this.submsgContent(!0)},disconnect:function(){console.log("断开连接")},connect_failed:function(){console.log("连接失败")},error:function(){console.log("错误发生，并且无法被其他事件类型所处理")},reconnecting:function(){console.log("正在重连")},reconnect_failed:function(){console.log("重连失败")},reconnect:function(){console.log("重连成功")},welcome:function(t){console.log("welcome data",t)}},data:function(){return{logoTitle:C.a.get("logoTitle"),player:[],selectSjOptions:[{key:1,name:"正常"},{key:2,name:"5G"}],selectSj:1,uavOpen:!1,shishiDetail:[],hiveDataFlag:!1,msgInfo:[{name:"经度(WGS84)",field:"longitudeWGS",value:"-",img:"lnglat"},{name:"纬度(WGS84)",field:"latitudeWGS",value:"-",img:"lnglat"},{name:"高度(相对地面)",field:"altitude",value:"-",unit:"m",img:"gaodu"},{name:"航偏角",field:"azimuth",value:"-",img:"hangpianjiao"},{name:"水平速度",field:"horizontalSpeed",value:"-",img:"shuiping"},{name:"垂直速度(爬升率)",field:"verticalSpeed",value:"-",img:"chuizhi"},{name:"电量",field:"batteryPercent",value:"-",img:"dianliang"},{name:"温度",field:"temperature",value:"-",img:"wendu"},{name:"GPS星数",field:"GPSCount",value:"-",img:"GPS"},{name:"GPS等级",field:"GPSLevel",value:"-",img:"dengji"},{name:"云台俯仰角",field:"gimbalPitch",value:"-",img:"fuyangjiao"},{name:"云台航偏角",field:"gimbalYaw",value:"-",img:"ythpj"},{name:"云台镜头",field:"displayMode",value:"-",img:"ytjt"}],item119:{},isFlag119:!1,msgInfoFlag:!1,showLeftPanel:!0,showRightPanel:!0,weather:{weather:"晴"},uavData:{},videoFlag:!1,dzjk:i("6e00"),hiveData:{},todaySWeather:[],casts:[],selectedValues:["奉贤区"],city:[],activeVideo:1,version:"3.8.5",siteSelectList:[],AItitle:null,AIFlag:!1,thermalGlobalTemperatureMin:null,thermalGlobalTemperatureMax:null,carImgList:[i("8927"),i("cecd")],alarmId:null,center:[121.55,30.93],zoom:13,ak:"dc0fXhXGxX8gVV1H1DCGtNobAES6ratw",title:i("afba"),isFullScreen:!1,dayKM:"KM",dayHH:"h",img:c.a,data:[{name:"本日自动<br/>派单数",count:0,field:"autoDayOrderTask"},{name:"本日手动<br/>派单数",count:0,field:"manualDayOrderTask"},{name:"本日已<br/>派单数",count:0,field:"dayOrderTaskTotal"},{name:"本日等待<br/>派单数",count:0,field:"waitDayOrderTask"},{name:"总任务数据",count:0,field:""},{name:"未执行<br/>任务数据",count:0,field:""},{name:"已执行<br/>任务数据",count:0,field:""},{name:"正在执飞<br/>无人机数",count:0,field:"UAVOnOperationNum"},{name:"可执飞站点",count:0,field:"operationalSiteNum"},{name:"正在充电站<br/>点数",count:0,field:"hiveOnChargeNum"}],mapOptions:{container:"map",style:{version:8,sources:{"iserver-tiles":{type:"raster",tiles:["http://10.248.223.223:8090/iserver/services/map-ugcv5-FengXianJiChuDiTuDark12023/rest/maps/FengXianJiChuDiTuDark1_2023"],rasterSource:"iserver",tileSize:256}},layers:[{id:"iserver-tiles",type:"raster",source:"iserver-tiles",layout:{visibility:"visible"},minzoom:0,maxzoom:22}]},crs:"EPSG:4326",center:[121.55,30.93],zoom:11.5,minZoom:0,maxZoom:22},realTimeDataSta:{UAVOnOperationNum:0,UAVOnlineNum:0,allHiveNum:0,allSiteNum:0,allUAVNum:0,autoDayOrderTask:0,dayOrderTaskTotal:0,hiveOnChargeNum:0,hiveOnlineNum:0,manualDayOrderTask:0,operationalSiteNum:0,siteOnlineNum:0,waitDayOrderTask:0},methaneData:[],methaneTimeData:[],fenbu:"1",mouseTool:null,pieChart:null,work:"1",mapModule:null,flightMileageSum:0,flightTimeSum:0,flightTotalMediaCapacity:0,flightMediaCapacityUnit:0,flightTotalNum:0,policeCasePages:[],warnHistoryStatisticalInfos:null,uavStateStatisticalss:[],hiveStatStatisticalss:[],monitorPoliceCasess:[],irDectResultPages:[],isOneJianQiFei:!1,oneJianQiFeiParams:{AJID:"",targetHeight:120,flightSpeed:15},workList:[],mapList:[{position:[121.571584,30.99196],icon:1,qu:"清河坊历史文化特色街区",nums:100},{position:[121.451556,30.811855],icon:2,qu:"吴山景区吴山广场",nums:55},{position:[116.351599,39.619437],icon:3,qu:"杭州西湖风景名胜区",nums:155},{position:[121.419599,30.98148],icon:4,qu:"江和美海洋公园",nums:205},{position:[121.529568,30.811575],icon:5,qu:"鼓楼",nums:315},{position:[116.711504,40.111244],icon:6,qu:"城市阳台",nums:466},{position:[121.631559,30.911444],icon:7,qu:"八卦田遗址公园",nums:555},{position:[121.601534,30.919034],icon:8,qu:"胡雪岩旧居",nums:86},{position:[121.509563,30.911788],icon:9,qu:"五柳巷历史街区",nums:135},{position:[121.451584,30.939114],icon:9,qu:"五柳巷历史街区",nums:135}],map:null,date:null,dateType:"1",wrjMarker:null}},mounted:function(){var t=this,e=Math.abs(window.screen.height-window.document.documentElement.clientHeight)<=17;window.addEventListener("resize",(function(){e=Math.abs(window.screen.height-window.document.documentElement.clientHeight)<=17,t.isFullScreen=e,t.pieChart&&t.pieChart.resize()})),this.initMap(),this.handleCascaderChange();var i=this;void 0!=C.a.get("loginType")&&"undefined"!=C.a.get("loginType")&&i.$nextTick((function(){setTimeout((function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}),3e3)}))},created:function(){this.policeCasePage(),this.warnHistoryStatisticalInfo(),this.uavStateStatisticals(),this.hiveStatStatisticals(),this.monitorPoliceCases(),this.socketOpen();var t=this;this.irDectResultPage(),t["stopSetTimeOut"]=setInterval((function(){t.irDectResultPage(),t.policeCasePage()}),5e3);try{t.$nextTick((function(){t.x.$on("stopSetTimeOut",(function(e){console.error("stopSetTimeOut",e),clearInterval(t["stopSetTimeOut"])}))}))}catch(e){}},filters:{filtertime:function(t){return moment(t).format("YYYY-MM-DD HH:mm:ss")},weekChinese:function(t){var e="";switch(t){case"1":e="一";break;case"2":e="二";break;case"3":e="三";break;case"4":e="四";break;case"5":e="五";break;case"6":e="六";break;case"7":e="日";break}return e},dayTime:function(t){return moment(t).format("MM/DD")}},watch:{fenbu:function(t){this.loadPieChart()}},methods:{policeCasePage:function(){var t={pageNum:1,pageSize:10},e=this;Object(j["m"])(t).then((function(t){200==t.code&&(e.policeCasePages=t.data.list)}))},warnHistoryStatisticalInfo:function(){var t=this;Object(j["s"])().then((function(e){200==e.code&&(t.warnHistoryStatisticalInfos=e.data)}))},uavStateStatisticals:function(){var t=this;Object(j["o"])().then((function(e){200==e.code&&(t.uavStateStatisticalss=e.data.list)}))},hiveStatStatisticals:function(){var t=this;Object(j["f"])().then((function(e){200==e.code&&(t.hiveStatStatisticalss=e.data.list)}))},monitorPoliceCases:function(){var t=this;Object(j["l"])().then((function(e){200==e.code&&(t.monitorPoliceCasess=e.data.list)}))},dinwei119:function(t){var e=this;this.map.setCenter([t.XZB,t.YZB]);var i=document.createElement("div");i.className="markerClass119",i.title=t.id,this["markerBJXX"+t.id]=new mapboxgl.Marker(i),this["markerBJXX"+t.id].setLngLat([t.XZB,t.YZB]),this["markerBJXX"+t.id].getElement().addEventListener("click",(function(t){var i=document.getElementsByClassName("mapboxgl-popup mapboxgl-popup-anchor-bottom");if(null!=i&&i.length>0)for(var a=0;a<i.length;a++)i[a].style.display="none";e.isFlag119=!0;var s=Number(t.currentTarget.title);e.item119=e.policeCasePages.find((function(t){return t.id===s})),e.$nextTick((function(){new mapboxgl.Popup({closeOnClick:!1,closeButton:!0}).setDOMContent(e.$refs.infoData119).setMaxWidth(e.$refs.infoData119.style.width).setLngLat([e.item119.XZB,e.item119.YZB]).addTo(e.map)}))})),this["markerBJXX"+t.id].addTo(this.map)},irDectResultPage:function(){var t=this,e=this;Object(j["g"])({status:"3"}).then((function(i){if(200==i.code){for(var a=0;a<1e3;a++)null!=t["markerH"+a]&&t["markerH"+a].remove();e.irDectResultPages=i.data.list,e.irDectResultPages.forEach((function(t,i){e.addToMarker([t.longitude,t.latitude],i)}))}}))},openOneJianQiFei:function(t){this.isOneJianQiFei=!0,this.oneJianQiFeiParams.AJID=t},oneJianQiFei:function(t){var e=this;Object(j["k"])(this.oneJianQiFeiParams).then((function(t){200==t.code&&e.$modal.msgSuccess("成功调飞")}))},irDectResultPage1111:function(){var t=this,e=this;Object(j["g"])().then((function(i){200==i.code&&e.irDectResultPages.forEach((function(e,i){t["markerH"+i].remove()}))}))},addToMarker:function(t,e){var i=this,a=document.createElement("div");a.className="markerClass",a.title=e,this["markerH"+e]=new mapboxgl.Marker(a),this["markerH"+e].setLngLat(t);var s=this["markerH"+e].addTo(this.map);s.getElement().addEventListener("click",(function(t){i.showDivPoint(i.irDectResultPages[t.target.title])}))},showDivPoint:function(t){var e=this;console.info("data-------------------",t),this.siteSelectList.forEach((function(i,a){var s=e;i.siteId==t.siteId&&(s.AItitle=i.siteName)})),this.thermalGlobalTemperatureMin=t.thermalGlobalTemperatureMin,this.thermalGlobalTemperatureMax=t.thermalGlobalTemperatureMax,this.carImgList=t.mediaUrlList,this.alarmId=t.alarmId,this.AIFlag=!0},handleUavClose:function(){console.info("-------------------------------------------------"),this.scaleUav=1,this.uavOpen=!1;var t=document.getElementById("uavContent");t.style.transform="scale(".concat(this.scaleUav,")"),this.destructionWrj(1)},cancel:function(){this.AIFlag=!1,this.isOneJianQiFei=!1},destructionWrj:function(t){console.info(this.player[t]),this.player[t]&&this.player[t].destroy()},msgInfoClose:function(){this.msgInfoFlag=!1},openVideoWrj:function(){var t=this;try{this.uavOpen=!0,Object(j["c"])(this.selectUAVID).then((function(e,i){t.destructionWrj(1),t.initPlayer(e.data.uavLiveUrl,1)}))}catch(e){this.destructionWrj(1),this.initPlayer("1111",1)}},initPlayer:function(t,e){this.player[e]=1===e?new w.a(t,"uayPlayer",this.callbackFunc,{cbUserPtr:this,decodeType:"auto",openAudio:0,BigPlay:!1}):2===e?new w.a(t,"uayFPVPlayer",this.callbackFunc,{cbUserPtr:this,decodeType:"auto",openAudio:0,BigPlay:!1}):new w.a(t,"skeyePlayer",this.callbackFunc,{cbUserPtr:this,decodeType:"auto",openAudio:0,BigPlay:!1}),this.player[e].play("",1,0)},videoPlay:function(t){var e=this;this.videoFlag?(this.videoFlag=!1,this.destruction()):(this.videoFlag=!0,Object(d["n"])(t).then((function(t,i){e.play(t.data.siteLiveUrl)})))},openFlight:function(t){this.$router.push({path:"flight",query:{item:t}})},play:function(t){var e=this.$refs.vPull1;_.a.isSupported()?(this.playerId=_.a.createPlayer({type:"flv",url:t,isLive:!0,hasAudio:!1,hasVideo:!0,enableStashBuffer:!0},{enableWorker:!1,enableStashBuffer:!1,isLive:!0,lazyLoad:!1}),this.playerId.attachMediaElement(e),this.playerId.load(),this.playerId.play()):console.log("不支持的格式")},destruction:function(){this.playerId&&(this.playerId.pause(),this.playerId.destroy(),this.playerId=null),this.player&&this.player.length>0&&this.player.destroy()},handleCascaderChange:function(){},realTimeData:function(){console.log("realTimeData",this.data)},gasWarnReport:function(){var t=this,e={pageIndex:1,pageSize:10};Object(d["gasWarnReport"])(e).then((function(e){console.log("gasWarnReport================================",e);var i=e.data.list;console.info("datas================",i);for(var a=0;a<i.length;a+=1){var s=i[a],n=s.methaneWarnList[0];t.workList.push({name:s.warnName,position:[n.longitude,n.latitude],dataTime:t.getNowTime(s.timestamp),count:s.concentration})}console.log(e)}))},updateStatus:function(t){var e=this;Object(d["D"])(this.alarmId,t).then((function(t){200==t.code&&(e.AIFlag=!1,e.$modal.msgSuccess("更新成功"),e.irDectResultPage())}))},flightHistory:function(){var t=this,e={};Object(d["flightHistory"])(e).then((function(e){console.log("realTimeData================================",e),t.dayHH=e.data.flightTimeUnit,t.dayKM=e.data.flightMileageUnit,t.flightMileageSum=e.data.flightMileageSum,t.flightTimeSum=e.data.flightTimeSum,t.flightTotalNum=e.data.flightTotalNum,t.flightTotalMediaCapacity=e.data.flightTotalMediaCapacity,t.flightMediaCapacityUnit=e.data.flightMediaCapacityUnit,console.log(e)}))},loadPieChart:function(){this.pieChart=o["init"](this.$refs.pieChart);var t=["#5470C6"],e={color:t,tooltip:{trigger:"none",axisPointer:{type:"cross",crossStyle:{color:"#999"},label:{color:"#fff",backgroundColor:"#333"}}},legend:{data:["119报警数量"]},grid:{top:"10%",bottom:"10%"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:"#FFF"}},axisPointer:{label:{formatter:function(t){return"数量  "+t.value+(t.seriesData.length?"："+t.seriesData[0].data:"")}}},data:this.methaneTimeData}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#FFF"}}}],series:[{name:"温度",type:"line",xAxisIndex:0,borderWidth:1,smooth:!0,lineStyle:{type:"solid",width:1,color:"#FFF"},areaStyle:{color:"#FFF"},symbol:"circle",symbolSize:3,emphasis:{focus:"series"},data:this.methaneData,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}],symbol:"circle",symbolSize:3,label:{show:!0,color:"#FFF",fontWeight:"bold",fontFamily:"Arial",fontSize:16}}}]};this.pieChart.setOption(e)},toggleFullScreen:function(){this.isFullScreen=!this.isFullScreen,this.isFullScreen?this.enterFullScreen():this.exitFullScreen()},tianqiData:function(t){return 0==t?"无雨":1==t?"小雨":2==t?"中雨":3==t?"大雨":void 0},initMap:function(){var t=this;t.map=new mapboxgl.Map(this.mapOptions),t.map.addControl(new mapboxgl.NavigationControl,"top-left"),t.map.addControl(new mapboxgl.ScaleControl({})),t.map.on("load",(function(e){t.getList()}));for(var e=[],i=25,a=40,s=0;s<100;s++)e[s]=new ol.Feature(new ol.geom.Point([121.467412,30.903269]));var n=new ol.layer.Heatmap({source:new ol.source.Vector({features:e,wrapX:!1}),blur:a,radius:i});t.map.addLayer(n);new ol.source.Cluster({distance:40,source:new ol.source.Vector,wrapX:!1})},getList:function(){var t=this;return Object(l["a"])(Object(n["a"])().mark((function e(){var i,a,s,l,o,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,i.map.on("click","state",(function(t){})),e.next=4,Object(d["z"])({pageNum:0,pageSize:99999});case 4:for(a=e.sent,s=a.data,l=0;l<s.list.length;l++)s.list[l].policeTotal=0;t.siteSelectList=s.list,o=Object(n["a"])().mark((function e(){var a,s,l,o,c,u,f;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.siteSelectList[r],e.next=3,Object(d["n"])(a.siteId);case 3:if(a=e.sent,a=a.data,s=[a.siteLongitude,a.siteLatitude],l=document.createElement("img"),l.src=p.a,l.style.width="50px",l.style.height="50px",l.id=a.siteId,l.hive="hive",l.data=s,l.siteName=a.siteName,l.uavIds=a.uavIds,l.hiveIds=a.hiveIds,i["marker"+r]=new mapboxgl.Marker(l),i["marker"+r].setLngLat(s),null==a.hiveIds||null==a.uavIds){e.next=37;break}return o=a.hiveIds[0],a.uavIds[0],c=t,e.next=24,Object(b["e"])(o);case 24:u=e.sent,u.data.siteLiveUrl=a.siteLiveUrl,u.data.siteId=a.siteId,u.data.siteName=a.siteName,u.data.siteAddress=a.siteAddress,u.data.policeTotal=t.siteSelectList[r].policeTotal,c.hiveData=u.data,u.data.type="hive",c.uavData=a,c["marker"+r].getElement().addEventListener("click",(function(t){if("hive"==t.currentTarget.hive){var e=document.getElementsByClassName("mapboxgl-popup mapboxgl-popup-anchor-bottom");if(null!=e&&e.length>0)for(var i=0;i<e.length;i++)e[i].style.display="none";var s=t.currentTarget.id;Object(d["n"])(a.siteId).then((function(e,i){c.hiveData.policeTotal=e.data.policeTotal,c.hiveData.siteName=t.srcElement.siteName,c.hiveData.siteId=s,c.hiveData.siteLongitude=t.srcElement.data[0],c.hiveData.siteLatitude=t.srcElement.data[1],c.hiveData.uavIds=t.srcElement.uavIds,c.hiveData.hiveIds=t.srcElement.hiveIds;new mapboxgl.Popup({closeOnClick:!1,closeButton:!0}).setDOMContent(c.$refs.infoData).setMaxWidth(c.$refs.infoData.style.width).setLngLat(t.srcElement.data).addTo(c.map);c.videoPlay(s)}))}})),c["marker"+r].addTo(c.map),e.next=38;break;case 37:i["marker"+r].addTo(i.map);case 38:null!=a.hiveIds&&null!=a.uavIds||(f=document.createElement("img"),f.src=g.a,f.style.width="20px",f.style.height="20px",i["markerE"+r]=new mapboxgl.Marker(f),i["markerE"+r].setLngLat(s),i["markerE"+r].setOffset([10,10]),i["markerE"+r].addTo(i.map));case 39:case"end":return e.stop()}}),e)})),r=0;case 10:if(!(r<t.siteSelectList.length)){e.next=15;break}return e.delegateYield(o(),"t0",12);case 12:r++,e.next=10;break;case 15:case"end":return e.stop()}}),e)})))()},showDiv:function(t){var e=this;this.closeInfoWindow();var i=t.target._originOpts.extData.data;this.uavData=i;var a=t.target._originOpts.extData.index;if(null!=i.hiveIds)if(null!=i.uavIds){var s=i.hiveIds[0],n=(i.uavIds[0],this.createInfoWindow()),l=this;Object(b["e"])(s).then((function(t){t.data.siteLiveUrl=i.siteLiveUrl,t.data.siteId=i.siteId,t.data.siteName=i.siteName,t.data.siteAddress=i.siteAddress,l.hiveData=t.data,l.openInfoWindow(n,e["wrjMarker"+a])}))}else this.$modal.msgError("未绑定无人机");else this.$modal.msgError("未绑定机库")},getStatus:function(t){return 1==t||2==t?"正常":"故障"},openInfoWindow:function(t,e){t.open(this.map,e.getPosition()),this.videoPlay()},closeInfoWindow:function(){this.map.clearInfoWindow(),this.videoFlag=!1,this.destruction()},createInfoWindow:function(){var t=new AMap.InfoWindow({isCustom:!0,content:this.$refs.infoData,offset:new AMap.Pixel(16,-45)});return t},enterFullScreen:function(){var t=document.documentElement,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;if(e)e.call(t);else if("undefined"!==typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!=i&&i.SendKeys("{F11}")}},openLocation:function(t){console.log(t);var e=t.position,i=new AMap.CircleMarker({center:e,radius:30,strokeColor:"",strokeWeight:2,strokeOpacity:.5,fillColor:"rgba(0,0,0, 0.1)",fillOpacity:.5,zIndex:10,bubble:!0,cursor:"pointer",clickable:!0});i.setMap(this.map);var a='<div class="info_yuanjiao">\n\n\t\t\t\t  <div class="num">\n\t\t\t\t\t  <div class="icn">'.concat(t.name,'</div>\n\t\t\t\t\t  <div class="label">温度</div>\n\t\t\t\t\t  <div class="value">').concat(t.count,"</div>\n\t\t\t\t  </div>\n\t\t\t  </div>"),s=new AMap.Text({text:a,anchor:"bottom-left",draggable:!0,cursor:"pointer",offset:[0,-7],angle:10,style:{"margin-top":"2px","background-color":"#000",opacity:"1",width:"15rem",height:"5rem","border-width":0,"text-align":"center","font-size":"14px",color:"red"},position:e});s.setMap(this.map),this.map.setCenter(e),this.map.setZoom(18)},exitFullScreen:function(){var t=document,e=t.cancelFullScreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen||t.exitFullscreen;if(e)e.call(t);else if("undefined"!==typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!=i&&i.SendKeys("{F11}")}},goTarget:function(t){window.open(t,"_blank")},handleQuery:function(){console.info("===================",this.dateType),this.dateType},getClickInfo:function(t){console.log(t.point.lng),console.log(t.point.lat),this.center.lng=t.point.lng,this.center.lat=t.point.lat},handleChange:function(t){console.log(t),t?(this.showDetail=!0,this.currentDetail=this.routeList.find((function(e){return e.id==t}))):this.showDetail=!1},close:function(){this.showDetail=!1,this.activeRoute=null},prevHandle:function(){this.current<=0||this.current--},mapCoor:function(t){AMap.plugin("AMap.Geocoder",(function(){var e=new AMap.Geocoder({});e.getAddress(t,(function(t,e){console.log("==============",t,e),"complete"===t&&"OK"===e.info&&console.log("==============",e.regeocode.formattedAddress)}))}))},nextHandle:function(){this.current>=this.list.length-1||this.current++},directionControlHandle:function(t){console.log(t)},change:function(t){console.log(t)},submitForm:function(){console.log(123)},newTask:function(){this.open=!0},socketOpen:function(){this.$socket.open()},socketSendmsg:function(){this.$socket.emit("hello","这里是客户端")},lockResult:function(){console.log("链接状态",this.$socket.connected),console.log("this.$socket",this.$socket),console.log("this.sockets",this.sockets)},getNowTime:function(t){var e=new Date(t),i=(e.getFullYear(),(e.getMonth()+1).toString().padStart(2,"0"),e.getDate().toString().padStart(2,"0")),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),n=e.getSeconds().toString().padStart(2,"0");return i+" "+a+":"+s+":"+n},format:function(t){var e=new Date(t),i=[e.getMonth()+1,e.getDate()].join("-");return i=i+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),i},closeSocket:function(){this.$socket.close()},callbackFunc:function(t,e){"playbackTime"==t||"ended"==t&&console.log("播放结束")},submsgContent:function(t){var e=this,i=this;t?this.sockets.subscribe("site state",(function(t){if(1==t.type){if(null!=t.longitudeWGS&&null!=t.latitudeWGS&&(null!=e["markerW"+t.UAVID]&&""!=e["markerW"+t.UAVID]&&(e["markerW"+t.UAVID].remove(),e["markerW"+t.UAVID]=null),0!=t.subState&&14!=t.subState)){i.shishiDetail=t;var a=document.createElement("img");a.src=m.a,a.style.width="60px",a.style.height="60px",a.id=t.UAVID,i["markerW"+t.UAVID]=new mapboxgl.Marker(a);var s=[t.longitudeWGS,t.latitudeWGS];i["markerW"+t.UAVID].setLngLat(s),i["markerW"+t.UAVID].setOffset([10,10]),a.addEventListener("click",(function(t){i.msgInfoFlag=!0,i["selectUAVID"]=t.currentTarget.id})),i.msgInfoFlag&&i["selectUAVID"]==t.UAVID&&e.msgInfo.forEach((function(i,a){e.msgInfo[a].value=t[i.field],"batteryPercent"==e.msgInfo[a].field&&null!=t.batteries&&("undefined"===typeof t.batteries||(e.msgInfo[a].value=t.batteries[0][i.field])),"temperature"==e.msgInfo[a].field&&null!=t.batteries&&("undefined"===typeof t.batteries||(e.msgInfo[a].value=t.batteries[0][i.field].toFixed(2))),"longitudeWGS"==e.msgInfo[a].field&&null!=t.batteries&&(e.msgInfo[a].value=t[i.field].toFixed(5)),"latitudeWGS"==e.msgInfo[a].field&&null!=t.batteries&&(e.msgInfo[a].value=t[i.field].toFixed(5)),"gimbalYaw"==e.msgInfo[a].field&&null!=t.gimbalYaw&&(e.msgInfo[a].value=t[i.field].toFixed(5)),"sdTotalSpaceInMB"!=e.msgInfo[a].field&&"sdRemainingSpaceInMB"!=e.msgInfo[a].field||null==t.sdTotalSpaceInMB||(e.msgInfo[a].value=t[i.field]+"MB")})),i["markerW"+t.UAVID].addTo(i.map)}}else("15016934693591078288"==t.STID||"15016919417396994107"==t.STID)&&(i.weather=t)})):this.sockets.unsubscribe("site state")}}},O=x,I=(i("10c5"),i("28fe"),i("2877")),D=Object(I["a"])(O,a,s,!1,null,"66e90f36",null);e["default"]=D.exports},2:function(t,e){},2734:function(t,e,i){t.exports=i.p+"static/img/晴.347947a2.png"},"28fe":function(t,e,i){"use strict";i("80ea")},3:function(t,e){},3050:function(t,e,i){},4:function(t,e){},"4d90":function(t,e,i){"use strict";var a=i("23e7"),s=i("0ccb").start,n=i("9a0c");a({target:"String",proto:!0,forced:n},{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5:function(t,e){},5575:function(t,e,i){"use strict";i.d(e,"n",(function(){return n})),i.d(e,"h",(function(){return l})),i.d(e,"z",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"C",(function(){return c})),i.d(e,"E",(function(){return d})),i.d(e,"B",(function(){return u})),i.d(e,"j",(function(){return f})),i.d(e,"w",(function(){return m})),i.d(e,"k",(function(){return h})),i.d(e,"y",(function(){return p})),i.d(e,"t",(function(){return v})),i.d(e,"i",(function(){return g})),i.d(e,"F",(function(){return b})),i.d(e,"u",(function(){return y})),i.d(e,"r",(function(){return _})),i.d(e,"v",(function(){return j})),i.d(e,"q",(function(){return S})),i.d(e,"p",(function(){return w})),i.d(e,"f",(function(){return k})),i.d(e,"c",(function(){return C})),i.d(e,"d",(function(){return x})),i.d(e,"g",(function(){return O})),i.d(e,"e",(function(){return I})),i.d(e,"x",(function(){return D})),i.d(e,"s",(function(){return F})),i.d(e,"b",(function(){return T})),i.d(e,"o",(function(){return P})),i.d(e,"A",(function(){return M})),i.d(e,"D",(function(){return A}));var a=i("b775"),s=i("c38a");i("bc3a");function n(t){return Object(a["a"])({url:"/fcs/sites/"+Object(s["g"])(t),method:"get"})}function l(t){return Object(a["a"])({url:"/fcs/control/uavs/cancel_fly_point",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/fcs/sites/page",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/fcs/sites",method:"post",data:t})}function c(t,e,i){return Object(a["a"])({url:"/fcs/sites/bindHive/"+Object(s["g"])(t)+"/"+Object(s["g"])(e)+"/"+Object(s["g"])(i),method:"PATCH",data:{}})}function d(t,e,i){return Object(a["a"])({url:"/fcs/sites/bindUav/"+Object(s["g"])(t)+"/"+Object(s["g"])(e)+"/"+Object(s["g"])(i),method:"PATCH",data:{}})}function u(t){return Object(a["a"])({url:"/fcs/sites/"+Object(s["g"])(t.siteId),method:"PUT",data:t})}function f(t){return Object(a["a"])({url:"/fcs/sites/"+Object(s["g"])(t),method:"delete"})}function m(t){return Object(a["a"])({url:"/fcs/missions",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/fcs/missions/"+Object(s["g"])(t)+"/"+Object(s["g"])("-1"),method:"PATCH"})}function p(t){return Object(a["a"])({url:"/fcs/missions",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/fcs/missions/"+Object(s["g"])(t),method:"get"})}function g(t){return Object(a["a"])({url:"/fcs/cronmissions/cd/list",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/fcs/cronmissions/validlist",method:"get",params:t})}function y(t,e){return Object(a["a"])({url:t,method:"post",data:e})}function _(t){return Object(a["a"])({url:"/fcs/uavaction/mediasetting",method:"post",params:t})}function j(t){return Object(a["a"])({url:"/fcs/control/uavs/fly_point",method:"post",data:t})}function S(t){return Object(a["a"])({url:"/fcs/uavaction/locationsetting",method:"post",params:t})}function w(t){return Object(a["a"])({url:"/fcs/uavaction/gimbalsetting",method:"post",params:t})}function k(t){return Object(a["a"])({url:"/fcs/control/uavs/camera_set_zoom",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/fcs/control/uavs/camera_aim",method:"post",data:t})}function x(t){return Object(a["a"])({url:"/fcs/control/uavs/camera_mode_switch",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/fcs/control/uavs/camera_take_photo",method:"post",data:t})}function I(t){return Object(a["a"])({url:"/fcs/control/uavs/camera_recording",method:"post",data:t})}function D(t){return Object(a["a"])({url:"/fcs/rcsetting",method:"post",params:t})}function F(t){return Object(a["a"])({url:"/fcs/control/uav_missions/perform_task",method:"post",data:t})}function T(t){return Object(a["a"])({url:"/fcs/task_manage/uav_task/task_progress/"+Object(s["g"])(t),method:"get"})}function P(t){return Object(a["a"])({url:"/fcs/task_manage/uav_task/task_log_info/"+Object(s["g"])(t),method:"get"})}function M(t){return Object(a["a"])({url:"/fcs/control/uavs/uav_manual",method:"post",data:t})}function A(t,e){return Object(a["a"])({url:"/fcs/task_manage/uav_task/ir_dect_results/update_status/"+Object(s["g"])(t)+"/"+Object(s["g"])(e),method:"PATCH"})}},"64b3":function(t,e,i){t.exports=i.p+"static/img/小雨.d2bfe17f.png"},"6d9d":function(t,e,i){t.exports=i.p+"static/img/daping2.7ee5327c.png"},"6e00":function(t,e,i){t.exports=i.p+"static/img/djjc.7b4ddcb4.png"},"80ea":function(t,e,i){},"85bc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video"},[i("video",{attrs:{id:"vPull",autoplay:"",width:"100%",height:"100%"}}),i("div",{staticClass:"label1"},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择视角"},on:{change:function(e){return t.changeVideo(t.item,t.index)}},model:{value:t.selectSj,callback:function(e){t.selectSj=e},expression:"selectSj"}},t._l(t.selectSjOptions,(function(t){return i("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})),1)],1)])},s=[],n=(i("a9e3"),i("fc78")),l=i.n(n),o=i("5575"),r=i("eecf"),c={props:{videoUrl:{type:Object,default:null},index:{type:Number,default:0},selectSj:{type:String,default:null},item:{type:Object,default:null}},data:function(){return{player:null,selectSjOptions:[{key:1,name:"第一视角"},{key:2,name:"第三视角"}]}},methods:{changeVideo:function(){var t=this;this.destruction(),2==this.item.selectSj&&Object(o["n"])(videoUrl.siteId).then((function(e){t.changePlay(e.data.siteLiveUrl)})),1==this.item.selectSj&&Object(r["c"])(videoUrl.uavIds[0]).then((function(e,i){t.changePlay(e.data.uavLiveUrl,changeIndex)}))},changePlay:function(t,e){this.$nextTick((function(){var e=document.getElementById("vPull");l.a.isSupported()?(this["player"]=l.a.createPlayer({type:"flv",url:t,isLive:!0,hasAudio:!1,hasVideo:!0,enableStashBuffer:!0},{enableWorker:!1,enableStashBuffer:!1,isLive:!0,lazyLoad:!1}),this["player"].attachMediaElement(e),this["player"].load(),this["player"].play()):console.log("不支持的格式")}))},play:function(t){this.$nextTick((function(){var t=document.getElementById("vPull");l.a.isSupported()?(this["player"]=l.a.createPlayer({type:"flv",url:this.videoUrl,isLive:!0,hasAudio:!1,hasVideo:!0,enableStashBuffer:!0},{enableWorker:!1,enableStashBuffer:!1,isLive:!0,lazyLoad:!1}),this["player"].attachMediaElement(t),this["player"].load(),this["player"].play()):console.log("不支持的格式")}))},destruction:function(){this.player&&(this.player.pause(),this.player.destroy(),this.player=null)}},mounted:function(){this.destruction()}},d=c,u=i("2877"),f=Object(u["a"])(d,a,s,!1,null,null,null);e["default"]=f.exports},8927:function(t,e,i){t.exports=i.p+"static/img/ai1.da6b6242.png"},"8e62":function(t,e,i){t.exports=i.p+"static/img/中雨.f5626dcd.png"},"9a0c":function(t,e,i){var a=i("342f");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},afba:function(t,e,i){t.exports=i.p+"static/img/title.76146691.png"},bb4b:function(t,e,i){var a={"./bulk.js":"ab11","./cat.aliases.js":"6b16","./cat.allocation.js":"fe37","./cat.count.js":"d4b7","./cat.fielddata.js":"7f3a","./cat.health.js":"a36f","./cat.help.js":"86bc","./cat.indices.js":"5c29","./cat.master.js":"9dd7","./cat.nodeattrs.js":"4dde","./cat.nodes.js":"f241","./cat.pending_tasks.js":"a2d9","./cat.plugins.js":"85df","./cat.recovery.js":"b740","./cat.repositories.js":"7df9","./cat.segments.js":"11f9","./cat.shards.js":"cd9a","./cat.snapshots.js":"d32b","./cat.tasks.js":"f7a6","./cat.templates.js":"d63b","./cat.thread_pool.js":"96ee","./clear_scroll.js":"3cc9","./cluster.allocation_explain.js":"c03f","./cluster.get_settings.js":"75d6","./cluster.health.js":"fd4b","./cluster.pending_tasks.js":"42f9","./cluster.put_settings.js":"1d07","./cluster.remote_info.js":"39c8","./cluster.reroute.js":"1a73","./cluster.state.js":"fd2c","./cluster.stats.js":"d2b5","./count.js":"8100","./count_percolate.js":"2483","./create.js":"4332","./delete.js":"e70d","./delete_by_query.js":"f1fb","./delete_script.js":"bc19","./delete_template.js":"0c41","./exists.js":"ec38","./exists_source.js":"bb8f","./explain.js":"8f00","./field_caps.js":"8bd2","./field_stats.js":"84cd","./get.js":"ab63","./get_script.js":"3503","./get_source.js":"2d6c","./get_template.js":"0e8fe","./index.js":"9e6f","./indices.analyze.js":"a030","./indices.clear_cache.js":"4499","./indices.close.js":"cab0","./indices.create.js":"2a24","./indices.delete.js":"a798","./indices.delete_alias.js":"409d","./indices.delete_template.js":"0954","./indices.exists.js":"a7cd","./indices.exists_alias.js":"4447","./indices.exists_template.js":"d497","./indices.exists_type.js":"f93c","./indices.flush.js":"b730","./indices.flush_synced.js":"9dfd","./indices.forcemerge.js":"dbb5","./indices.get.js":"0c2e","./indices.get_alias.js":"7d22","./indices.get_field_mapping.js":"9c80","./indices.get_mapping.js":"bad4","./indices.get_settings.js":"5bd7","./indices.get_template.js":"f3c1","./indices.get_upgrade.js":"682d","./indices.open.js":"ea9c","./indices.put_alias.js":"4b3a","./indices.put_mapping.js":"9e88","./indices.put_settings.js":"b3b0","./indices.put_template.js":"7456","./indices.recovery.js":"bb1c","./indices.refresh.js":"ee39","./indices.rollover.js":"86e5","./indices.segments.js":"e563","./indices.shard_stores.js":"ebde","./indices.shrink.js":"2a9e","./indices.stats.js":"19ed","./indices.update_aliases.js":"83ee","./indices.upgrade.js":"7c38","./indices.validate_query.js":"5c88","./info.js":"6999","./ingest.delete_pipeline.js":"5596","./ingest.get_pipeline.js":"d98b","./ingest.processor_grok.js":"7572","./ingest.put_pipeline.js":"22e2","./ingest.simulate.js":"5c64","./mget.js":"c042","./mpercolate.js":"08a0","./msearch.js":"0616","./msearch_template.js":"1e16","./mtermvectors.js":"ae1e","./nodes.hot_threads.js":"39b2","./nodes.info.js":"e929","./nodes.stats.js":"23c1","./percolate.js":"23e1","./ping.js":"a675","./put_script.js":"3ab3","./put_template.js":"8f6f","./reindex.js":"5beb","./reindex_rethrottle.js":"dd3c","./render_search_template.js":"a38b","./scroll.js":"7d30","./search.js":"47f3","./search_shards.js":"5c9f","./search_template.js":"8b0c","./snapshot.create.js":"ddeb","./snapshot.create_repository.js":"c976","./snapshot.delete.js":"b5f0","./snapshot.delete_repository.js":"11e9","./snapshot.get.js":"04b8","./snapshot.get_repository.js":"aeb6","./snapshot.restore.js":"1a2d8","./snapshot.status.js":"2dcf","./snapshot.verify_repository.js":"42b4e","./suggest.js":"107a","./tasks.cancel.js":"1ee8","./tasks.get.js":"139f","./tasks.list.js":"e6ce","./termvectors.js":"e9d0","./update.js":"e6a5","./update_by_query.js":"78bd"};function s(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="bb4b"},ca47:function(t,e,i){t.exports=i.p+"static/img/gth.f2249914.png"},cecd:function(t,e,i){t.exports=i.p+"static/img/ai2.12bb2d2e.png"}}]);