(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7504c55c"],{"0ccb":function(e,t,i){var a=i("e330"),n=i("50c4"),s=i("577e"),o=i("1148"),l=i("1d80"),c=a(o),r=a("".slice),u=Math.ceil,d=function(e){return function(t,i,a){var o,d,p=s(l(t)),m=n(i),v=p.length,f=void 0===a?" ":s(a);return m<=v||""==f?p:(o=m-v,d=c(f,u(o/f.length)),d.length>o&&(d=r(d,0,o)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},"33d3":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const a=e=>Object.prototype.toString.call(e).slice(8,-1)},"4d90":function(e,t,i){"use strict";var a=i("23e7"),n=i("0ccb").start,s=i("9a0c");a({target:"String",proto:!0,forced:s},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4fab":function(e,t,i){"use strict";var a={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};t["a"]=function(e,t){const i=t||a[this.$options.name];i&&i.forEach(t=>{const i="on"===t.slice(0,2),a=i?t.slice(2):t,n=this.$listeners[a];n&&e.addEventListener(t,n.fns)})}},5238:function(e,t,i){e.exports=i.p+"static/img/位图 2.9e520414.png"},6616:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"operationCenter"},[i("div",{staticClass:"oc_head df-aj-b"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title))]),i("span",{staticClass:"el-icon-close",staticStyle:{color:"#fff",cursor:"pointer"},on:{click:function(t){return e.$emit("close")}}})]),i("div",{staticClass:"oc_main df"},[i("div",{staticClass:"leftWrap"},[i("div",{staticClass:"block block1 df"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.img,alt:""}})]),e._m(0)]),i("div",{staticClass:"block block2"},[i("div",{staticClass:"top"},[i("div",{staticClass:"info"},[e._m(1),i("div",{staticClass:"right"},[e._m(2),e._m(3),e._m(4),i("div",{staticClass:"df"},[i("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",plain:""}},[e._v("监控")]),i("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",plain:""}},[e._v("操作")])],1)])]),e._m(5)]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"info"},[e._m(6),i("div",{staticClass:"right"},[e._m(7),i("div",{staticClass:"df"},[i("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",plain:""}},[e._v("飞行控制")])],1)])]),e._m(8)])]),i("div",{staticClass:"block block3"},[i("div",{staticClass:"title"},[e._v("信息详情")]),e._m(9),i("div",{staticClass:"inputs"},[i("div",{staticClass:"cell"},[i("span",[e._v("飞行器夜航灯")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[i("span",{staticStyle:{float:"right"}},[e._v(e._s(t.label))])])})),1)],1),i("div",{staticClass:"cell"},[i("span",[e._v(" 备降转移高 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[i("i",{staticClass:"ques"})])],1),i("el-input",{attrs:{placeholder:"请选择日期","suffix-icon":"el-icon-edit"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),i("div",{staticClass:"cell"},[i("span",[e._v(" 限高 "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[i("i",{staticClass:"ques"})])],1),i("el-input",{attrs:{placeholder:"请选择日期","suffix-icon":"el-icon-edit"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),i("div",{staticClass:"cell"},[i("span",[e._v("限远")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[i("span",{staticStyle:{float:"right"}},[e._v(e._s(t.label))])])})),1)],1),i("div",{staticClass:"cell"},[i("span",[e._v("避障")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[i("span",{staticStyle:{float:"right"}},[e._v(e._s(t.label))])])})),1)],1),i("div",{staticClass:"cell"},[i("span",[e._v("运行模式")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[i("span",{staticStyle:{float:"right"}},[e._v(e._s(t.label))])])})),1)],1)])]),i("div",{staticClass:"block block4"},[i("div",{staticClass:"title"},[e._v(" 信息详情 "),i("div",{staticClass:"mainSwitch"},[i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1)]),i("div",{staticClass:"switchList"},[i("div",[e._v("舱盖"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1),i("div",[e._v("推杆"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1),i("div",[e._v("机场系统"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1),i("div",[e._v("增强图传"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1),i("div",[e._v("飞行器电源"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1),i("div",[e._v("飞行器充电"),i("el-switch",{model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}})],1)])])]),e._m(10),i("div",{staticClass:"rightWrap"},[i("div",{ref:"foldPanel",staticClass:"foldPanel",class:{active:e.showFoldPanel}},[i("el-collapse",{attrs:{accordion:""},model:{value:e.activePanel,callback:function(t){e.activePanel=t},expression:"activePanel"}},[i("el-collapse-item",{attrs:{title:"全自动任务",name:"1"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px","label-position":"top"}},[i("el-form-item",{attrs:{label:"任务类型",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择任务类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.renwuList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[i("el-select",{attrs:{placeholder:"请选择任务名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}},e._l(e.validResultlist,(function(e){return i("el-option",{key:e.CMID,attrs:{label:e.missionName,value:e.CMID}})})),1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即下发 ")])],1)],1)],1),i("el-collapse-item",{attrs:{title:"无人机控制面板",name:"2"}},[i("div",{ref:"wurenjiPanel"},[i("div",{staticClass:"cell"},[i("div",{staticClass:"label"},[e._v("任务控制")]),i("div",{staticClass:"con"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.missionsetting("110")}}},[e._v("暂停 ")]),i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.missionsetting("112")}}},[e._v("恢复 ")]),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.missionsetting("111")}}},[e._v("停止 ")])],1)]),i("div",{staticClass:"cell"},[i("div",{staticClass:"label"},[e._v("指点飞行")]),i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("指点飞行")])],1),i("div",{staticClass:"cell"},[i("div",{staticClass:"label"},[e._v("无人机飞行控制")]),i("div",{staticClass:"con"},[i("div",{staticClass:"df"},[i("div",{staticClass:"left",staticStyle:{width:"50%","text-align":"center"}},[i("div",{staticClass:"fxjp"},e._l(e.directionControl,(function(t,a){return i("i",{key:a,class:[t,e.currentDirection==t?"active":""],on:{click:function(i){return e.directionControlHandle(t)},mousedown:function(i){e.currentDirection=t},mouseup:function(t){e.currentDirection=null}}})})),0),i("div",[e._v("步 "),i("span",[e._v("55")]),e._v(" m ")]),i("div",[e._v("平移控制")])]),i("div",{staticClass:"right",staticStyle:{width:"50%","text-align":"center"}},[i("div",{staticClass:"heightControl"},[i("i",{staticClass:"el-icon-caret-top",on:{mousedown:function(t){e.currentHeightControl="up"},mouseup:function(t){e.currentHeightControl=null},click:function(t){return e.heightControlHandle("up")}}}),i("i",{staticClass:"el-icon-caret-bottom",on:{mousedown:function(t){e.currentHeightControl="down"},mouseup:function(t){e.currentHeightControl=null},click:function(t){return e.heightControlHandle("down")}}})]),i("div",[e._v("步 "),i("span",[e._v("55")]),e._v(" m ")]),i("div",[e._v("高度控制")])])]),i("speedNumber",{attrs:{title:"偏转调整",data:0,min:-180,max:180},on:{change:e.change}},[i("span",[e._v("北偏东18")])])],1)]),i("div",{staticClass:"cell"},[i("div",{staticClass:"label mgb-10"},[e._v("镜头选择")]),i("div",{staticClass:"con df-aj-e"},[i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("可视")]),i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("红外")]),i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("广角")])],1)]),i("div",{staticClass:"cell"},[i("div",{staticClass:"label"},[e._v("无人机云台控制")]),i("div",{staticClass:"con pdt-10"},[i("div",{staticClass:"mgb-10 df-aj-e"},[i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("智能变焦")]),i("el-button",{attrs:{type:"primary",size:"small"}},[e._v("智能跟踪")])],1),i("div",{staticClass:"df-aj-b"},[i("div",[e._v("激光测距")]),i("el-switch",{attrs:{"active-color":"#269794","inactive-color":"#ffffff20"},model:{value:e.ceju,callback:function(t){e.ceju=t},expression:"ceju"}})],1),i("speedNumber",{attrs:{title:"朝向调整",data:0,min:-180,max:180,isShowInput:!1},on:{change:e.change}},[i("el-button",{staticStyle:{position:"absolute",top:"15px",right:"0",padding:"3px 10px"},attrs:{type:"primary",size:"mini"}},[e._v(" 复位 ")])],1),i("speedNumber",{attrs:{title:"俯仰调整",data:0,min:-90,max:90},on:{change:e.change}}),i("speedNumber",{attrs:{title:"变焦调整",data:0,min:-30,max:30},on:{change:e.change}})],1)]),e._e()])]),i("el-collapse-item",{attrs:{title:"媒体数据管理",name:"3"}},[i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload"},on:{click:e.mediasetting}},[e._v("数据上传 ")])],1),i("el-collapse-item",{attrs:{title:"站点远程维护",name:"4"}},[i("div",{staticClass:"mgb-20"},[e._v("快捷流程")]),i("div",{staticClass:"df-aj-e"},[i("el-button",{attrs:{type:"success",size:"small"}},[e._v("打开机库")]),i("el-button",{attrs:{type:"danger",size:"small"}},[e._v("关闭机库")])],1)])],1),i("el-button",{staticClass:"backBtn",attrs:{type:"primary"},on:{click:function(t){return e.missionsetting("114")}}},[e._v("立即返航 ")])],1)])])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"r"},[i("div",{staticClass:"status"},[e._v("设备空闲中")]),i("div",{staticClass:"info"},[i("div",[i("span",{staticClass:"label"},[e._v("机场名称：")]),i("span",{staticClass:"val"},[e._v("DJI_M300_RTK")])]),i("div",[i("span",{staticClass:"label"},[e._v("机场型号：")]),i("span",{staticClass:"val"},[e._v("DJI_M300_RTK")])]),i("div",[i("span",{staticClass:"label"},[e._v("设备SN：")]),i("span",{staticClass:"val"},[e._v("DJI_M300_RTK")])]),i("div",[i("span",{staticClass:"label"},[e._v("更新时间：")]),i("span",{staticClass:"val"},[e._v("2023-06015 1745:23")])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dock"},[i("div",{staticClass:"icon"}),i("div",[e._v("DOCK")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[e._v("西渡无人机巡检基地 "),i("span",{staticClass:"tag"},[e._v("无任务")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[e._v("设备空闲中 "),i("div",{staticClass:"status"},[e._v("当前正常")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cells"},[i("div",[i("i",{staticClass:"weather"}),e._v("正常")]),i("div",[i("i",{staticClass:"temperature"}),e._v("36.1 °C")]),i("div",[i("i",{staticClass:"signal"}),e._v("13 KB/s")]),i("div",[i("i",{staticClass:"upload"}),e._v("01")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"videoWrap"},[i("video",{attrs:{src:""}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dock"},[i("div",{staticClass:"icon"}),i("div",[e._v("M30T")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title",staticStyle:{"margin-bottom":"30px"}},[e._v(" 舱内关机 "),i("div",{staticClass:"status"},[e._v("N/A")]),i("div",{staticClass:"tip"},[e._v("当前设备已关机，无法进行直播")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cells"},[i("div",[i("i",{staticClass:"wifi"}),e._v("正常")]),i("div",[i("i",{staticClass:"weixing"}),e._v("RTK - -")]),i("div",[i("i",{staticClass:"battery"}),e._v("99%")]),i("div",[e._v("ASL: --")]),i("div",[e._v("AGL: --")]),i("div",[e._v("H.S: --")]),i("div",[e._v("H: --")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cells"},[i("div",[i("div",[e._v("25")]),i("div",[e._v("机场搜星")])]),i("div",[i("div",[e._v("已标定")]),i("div",[e._v("标定状态")])]),i("div",[i("div",[e._v("0.0/78.3 GB")]),i("div",[e._v("机场存储")])]),i("div",[i("div",[e._v("25")]),i("div",[e._v("飞行器存储")])]),i("div",[i("div",[e._v("25")]),i("div",[e._v("舱内温度")])]),i("div",[i("div",[e._v("25")]),i("div",[e._v("舱内湿度")])]),i("div",[i("div",[e._v("25")]),i("div",[e._v("空调状态")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mapWrap"},[i("div",{attrs:{id:"container"}})])}],s=i("c7eb"),o=i("1da1"),l=(i("4de4"),i("d3b7"),i("b0c0"),i("d81d"),i("159b"),i("4d90"),i("25f0"),i("df2b")),c=i("7cdd"),r=i("5575"),u=i("6924"),d=i("862d"),p=i.n(d),m=i("82eb"),v=i.n(m),f={name:"operationCenter",components:{BaiduMap:l["a"],speedNumber:c["default"]},data:function(){return{img:i("5238"),options:[{label:"开启",value:1},{label:"关闭",value:0}],value:0,input1:"100M",switchValue:!0,chartIsShow:!1,center:{lng:121.54829,lat:31.18056},zoom:13,ak:"dc0fXhXGxX8gVV1H1DCGtNobAES6ratw",stutas:0,item:{},shishiDetail:{},wurenji:i("b278"),baseInfo:[{name:"机场名称",field:"model",value:"-"},{name:"机场型号",field:"UAVID",value:"-"},{name:"设备SN",field:"cameraType",value:"-"},{name:"更新时间",field:"updateTime",value:"-"}],missionTypeOptions:[{name:"路点任务",id:1},{name:"二维扫图",id:2}],msgInfo:[{name:"经度(WGS84)",field:"longitudeWGS",value:"-",img:"lnglat"},{name:"纬度(WGS84)",field:"latitudeWGS",value:"-",img:"lnglat"},{name:"高度(相对地面)",field:"altitude",value:"-",unit:"m",img:"gaodu"},{name:"航偏角",field:"azimuth",value:"-",img:"hangpianjiao"},{name:"水平速度",field:"horizontalSpeed",value:"-",img:"shuiping"},{name:"垂直速度(爬升率)",field:"verticalSpeed",value:"-",img:"chuizhi"},{name:"电量",field:"batteryPercent",value:"-",img:"dianliang"},{name:"温度",field:"temperature",value:"-",img:"wendu"},{name:"GPS星数",field:"GPSCount",value:"-",img:"GPS"},{name:"GPS等级",field:"GPSLevel",value:"-",img:"dengji"},{name:"上行信号",field:"upLink",value:"-",img:"shangxing"},{name:"下行信号",field:"downLink",value:"-",img:"xiaxing"},{name:"云台俯仰角",field:"gimbalPitch",value:"-",img:"fuyangjiao"},{name:"云台航偏角",field:"gimbalYaw",value:"-",img:"ythpj"},{name:"云台镜头",field:"displayMode",value:"-",img:"ytjt"},{name:"放大倍率",field:"zoom",value:"-",img:"fangda"},{name:"距起点距离",field:"distanceStart",value:"-",img:"qidian"},{name:"距离终点距离",field:"distanceEnd",value:"-",img:"zhongdian"},{name:"天枢状态",field:"isSCOnline",value:"-",img:"tianshu"},{name:"影像录制",field:"isRecording",value:"-,",img:"luxiang"}],photoStatus:!0,showFoldPanel:!1,activePanel:null,ruleForm:{type:"",name:""},rules:{name:[{required:!0,message:"请选择任务名称",trigger:"change"}],type:[{required:!0,message:"请选择任务类型",trigger:"change"}]},validResultlist:[],renwuList:[{id:1,name:"路点任务"}],renwuId:"",ceju:!1,directionControl:["up","right","down","left"],textToAudio:"",volume:0,refresh:!0,currentDirection:null,currentHeightControl:null,active:!0,croCdResultList:[],getCroCdIsFlag:!1}},mounted:function(){},methods:{missionsetting:function(e){var t=this;return Object(o["a"])(Object(s["a"])().mark((function i(){var a,n;return Object(s["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(r["u"])({UAVID:t.item.UAVInfo.UAVID,type:e});case 3:a=i.sent,n=a.data,t.$modal.msgSuccess(n.reason),i.next=10;break;case 8:i.prev=8,i.t0=i["catch"](0);case 10:case"end":return i.stop()}}),i,null,[[0,8]])})))()},missionadd:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var i,a,n,o;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,t.next=3,Object(r["n"])(i.item.siteID);case 3:a=t.sent,n=a.data,o=i.validResultlist.filter((function(e){return e.CMID=i.ruleForm.name})),null!=o&&o.length>0&&(o=o[0]),Object(r["s"])({siteID:i.item.siteID,missionID:o.missionID,taskID:"",siteUAVConfig:{UAVRHAltitude:n.siteRHAltitude,UAVSTAltitude:n.UAVSTAltitude},FinishAction:1}).then((function(e){i.$modal.msgSuccess(e.reason)}));case 8:case"end":return t.stop()}}),t)})))()},mediasetting:function(){var e=this;Object(r["r"])({UAVID:this.item.UAVInfo.UAVID,type:120}).then((function(t){e.$modal.msgSuccess(t.reason)}))},pointingLng:function(){var e=this;e.mouseTool=new AMap.MouseTool(e.map),e.mouseTool.on("draw",(function(e){}))},pointingflight:function(){var e=this;Object(r["v"])({siteID:item.siteID}).then((function(t){e.$modal.msgSuccess(t.reason)}))},locationsetting:function(){var e=this;Object(r["q"])({siteID:item.siteID}).then((function(t){e.$modal.msgSuccess(t.reason)}))},gimbalsetting:function(){var e=this;Object(r["p"])({siteID:item.siteID}).then((function(t){e.$modal.msgSuccess(t.reason)}))},camerasetting:function(){var e=this;Object(r["g"])({siteID:item.siteID}).then((function(t){e.$modal.msgSuccess(t.reason)}))},rcsetting:function(){var e=this;Object(r["x"])({siteID:item.siteID}).then((function(t){e.$modal.msgSuccess(t.reason)}))},initMap:function(e){var t=this,i=this;p.a.load({key:"18813430a3509f47b3bc51c03ebcdeca",version:"2.0",plugins:["AMap.AutoComplete","AMap.PlaceSearch","AMap.MarkerClusterer","AMap.DistrictSearch","AMap.MouseTool","AMap.ToolBar","AMap.Scale"]}).then((function(a){i.mapModule=a,i.map=new a.Map("container",{viewMode:"3D",zoom:i.zoom,center:e}),i.map.addControl(new a.Scale);var n=new a.Icon({size:new a.Size(40,40),image:v.a,imageSize:new a.Size(40,40)});t.wrjMarker=new a.Marker({icon:n,position:e,offset:new a.Pixel(-13,-30)}),t.wrjMarker.setMap(t.map)})).catch((function(e){console.log(e)}))},handler:function(e){var t=e.BMap,i=e.map,a=new t.Point(121.54829,31.18056);i.centerAndZoom(a,13);var n=new t.Marker(a);i.addOverlay(n);var s=new t.Circle(a,6,{strokeColor:"Red",strokeWeight:6,strokeOpacity:1,Color:"Red",fillColor:"#f03"});i.addOverlay(s),console.log(u),i.setMapStyleV2({styleId:"bc9d1521dcafe36ab78231b02be3c417"})},getClickInfo:function(e){console.log(e.point.lng),console.log(e.point.lat),this.center.lng=e.point.lng,this.center.lat=e.point.lat},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.missionadd()}))},change:function(e){console.log(e)},directionControlHandle:function(e){console.log(e)},heightControlHandle:function(e){console.log(e)},initParam:function(e){var t=this;this.baseInfo.forEach((function(e,i){t.baseInfo[i].value="-"})),this.msgInfo.forEach((function(e,i){t.msgInfo[i].value="-"})),this.item=e,console.log(e),e.UAVInfo.updateTime=e.updateTime,this.baseInfo.forEach((function(i,a){t.baseInfo[a].value=e.UAVInfo[i.field]})),this.initMap(e.siteLocation),Object(r["i"])({siteID:e.siteID}).then((function(e){t.croCdResultList=e.data.list}));var i=new Date,a=i.getDate(),n=new Date(i.setDate(a-1e4));console.log(Math.round(n/1e3)),console.log(Math.round(new Date/1e3)),Object(r["F"])({siteID:null,startDate:Math.round(n/1e3),endDate:Math.round(new Date/1e3)}).then((function(e){t.validResultlist=e.data.list})).catch((function(e){t.$modal.msgSuccess("任务类型查询失败")})),this.$nextTick((function(){this.renwuList=[{id:1,name:"路点任务"}]}))},getNowTime:function(){var e=new Date,t=e.getFullYear(),i=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return t+"-"+i+"-"+a+" "+n+":"+s},initParamSocket:function(e){var t=this;this.chartIsShow=!1,console.log(e),this.$nextTick((function(){t.chartIsShow=!0,t.baseInfo[2].value=e.cameraType,t.shishiDetail=e,t.msgInfo.forEach((function(i,a){t.msgInfo[a].value=e[i.field],"batteryPercent"==t.msgInfo[a].field&&null!=e.batteries&&(t.msgInfo[a].value=e.batteries[0][i.field]),"temperature"==t.msgInfo[a].field&&null!=e.batteries&&(t.msgInfo[a].value=e.batteries[0][i.field])}))}))}},watch:{showFoldPanel:function(e){var t=this;e&&setTimeout((function(){var e=t.$refs.foldPanel.offsetHeight;console.log(e),t.$refs.wurenjiPanel.style.height=e-300+"px"}),1e3)}}},h=f,g=(i("6f91"),i("2877")),b=Object(g["a"])(h,a,n,!1,null,"57b7eb7d",null);t["default"]=b.exports},"6f91":function(e,t,i){"use strict";i("b32b")},"7f25":function(e,t,i){"use strict";(function(e){var a=i("b85c"),n=(i("a9e3"),i("d81d"),i("d3b7"),i("4fab")),s=i("33d3");t["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(e,t){var i=this.map,a=this.zoom;"String"===Object(s["a"])(e)&&e!==t&&i.centerAndZoom(e,a)},"center.lng":function(e,t){var i=this.BMap,a=this.map,n=this.zoom,s=this.center;e!==t&&e>=-180&&e<=180&&a.centerAndZoom(new i.Point(e,s.lat),n)},"center.lat":function(e,t){var i=this.BMap,a=this.map,n=this.zoom,s=this.center;e!==t&&e>=-74&&e<=74&&a.centerAndZoom(new i.Point(s.lng,e),n)},zoom:function(e,t){var i=this.map;e!==t&&e>=3&&e<=19&&i.setZoom(e)},minZoom:function(e){var t=this.map;t.setMinZoom(e)},maxZoom:function(e){var t=this.map;t.setMaxZoom(e)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(t){var i=this.map;i.setMapType(e[t])},dragging:function(e){var t=this.map;e?t.enableDragging():t.disableDragging()},scrollWheelZoom:function(e){var t=this.map;e?t.enableScrollWheelZoom():t.disableScrollWheelZoom()},doubleClickZoom:function(e){var t=this.map;e?t.enableDoubleClickZoom():t.disableDoubleClickZoom()},keyboard:function(e){var t=this.map;e?t.enableKeyboard():t.disableKeyboard()},inertialDragging:function(e){var t=this.map;e?t.enableInertialDragging():t.disableInertialDragging()},continuousZoom:function(e){var t=this.map;e?t.enableContinuousZoom():t.disableContinuousZoom()},pinchToZoom:function(e){var t=this.map;e?t.enablePinchToZoom():t.disablePinchToZoom()},autoResize:function(e){var t=this.map;e?t.enableAutoResize():t.disableAutoResize()},theme:function(e){var t=this.map;t.setMapStyle({styleJson:e})},"mapStyle.features":{handler:function(e,t){var i=this.map,a=this.mapStyle,n=a.style,s=a.styleJson;i.setMapStyle({styleJson:s,features:e,style:n})},deep:!0},"mapStyle.style":function(e,t){var i=this.map,a=this.mapStyle,n=a.features,s=a.styleJson;i.setMapStyle({styleJson:s,features:n,style:e})},"mapStyle.styleJson":{handler:function(e,t){var i=this.map,a=this.mapStyle,n=a.features,s=a.style;i.setMapStyle({styleJson:e,features:n,style:s})},deep:!0},mapStyle:function(e){var t=this.map,i=this.theme;!i&&t.setMapStyle(e)}},methods:{setMapOptions:function(){var t=this.map,i=this.minZoom,a=this.maxZoom,n=this.mapType,s=this.dragging,o=this.scrollWheelZoom,l=this.doubleClickZoom,c=this.keyboard,r=this.inertialDragging,u=this.continuousZoom,d=this.pinchToZoom,p=this.autoResize;i&&t.setMinZoom(i),a&&t.setMaxZoom(a),n&&t.setMapType(e[n]),s?t.enableDragging():t.disableDragging(),o?t.enableScrollWheelZoom():t.disableScrollWheelZoom(),l?t.enableDoubleClickZoom():t.disableDoubleClickZoom(),c?t.enableKeyboard():t.disableKeyboard(),r?t.enableInertialDragging():t.disableInertialDragging(),u?t.enableContinuousZoom():t.disableContinuousZoom(),d?t.enablePinchToZoom():t.disablePinchToZoom(),p?t.enableAutoResize():t.disableAutoResize()},init:function(e){if(!this.map){var t,i=this.$refs.view,s=Object(a["a"])(this.$slots.default||[]);try{for(s.s();!(t=s.n()).done;){var o=t.value;o.componentOptions&&"bm-view"===o.componentOptions.tag&&(this.hasBmView=!0,i=o.elm)}}catch(m){s.e(m)}finally{s.f()}var l=new e.Map(i,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=l;var c=this.setMapOptions,r=this.zoom,u=this.getCenterPoint,d=this.theme,p=this.mapStyle;d?l.setMapStyle({styleJson:d}):l.setMapStyle(p),c(),n["a"].call(this,l),l.reset(),l.centerAndZoom(u(),r),this.$emit("ready",{BMap:e,map:l})}},getCenterPoint:function(){var e=this.center,t=this.BMap;switch(Object(s["a"])(e)){case"String":return e;case"Object":return new t.Point(e.lng,e.lat);default:return new t.Point}},initMap:function(e){this.BMap=e,this.init(e)},getMapScript:function(){if(e.BMap)return e.BMap._preloader?e.BMap._preloader:Promise.resolve(e.BMap);var t=this.ak||this._BMap().ak;return e.BMap={},e.BMap._preloader=new Promise((function(i,a){e._initBaiduMap=function(){i(e.BMap),e.document.body.removeChild(n),e.BMap._preloader=null,e._initBaiduMap=null};var n=document.createElement("script");e.document.body.appendChild(n),n.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(t,"&callback=_initBaiduMap")})),e.BMap._preloader},reset:function(){var e=this.getMapScript,t=this.initMap;e().then(t)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,i("c8ba"))},"82eb":function(e,t,i){e.exports=i.p+"static/img/M210.788f8877.png"},"862d":function(e,t,i){"use strict";(function(t,i){e.exports=i()})(0,(function(){function e(e){var a=[];return e.AMapUI&&a.push(t(e.AMapUI)),e.Loca&&a.push(i(e.Loca)),Promise.all(a)}function t(e){return new Promise((function(t,i){var l=[];if(e.plugins)for(var c=0;c<e.plugins.length;c+=1)-1==n.AMapUI.plugins.indexOf(e.plugins[c])&&l.push(e.plugins[c]);if(s.AMapUI===a.failed)i("前次请求 AMapUI 失败");else if(s.AMapUI===a.notload){s.AMapUI=a.loading,n.AMapUI.version=e.version||n.AMapUI.version,c=n.AMapUI.version;var r=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/ui/"+c+"/main.js",u.onerror=function(e){s.AMapUI=a.failed,i("请求 AMapUI 失败")},u.onload=function(){if(s.AMapUI=a.loaded,l.length)window.AMapUI.loadUI(l,(function(){for(var e=0,i=l.length;e<i;e++){var a=l[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()}));else for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()},r.appendChild(u)}else s.AMapUI===a.loaded?e.version&&e.version!==n.AMapUI.version?i("不允许多个版本 AMapUI 混用"):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,i=l.length;e<i;e++){var a=l[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t():e.version&&e.version!==n.AMapUI.version?i("不允许多个版本 AMapUI 混用"):o.AMapUI.push((function(e){e?i(e):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,i=l.length;e<i;e++){var a=l[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t()}))}))}function i(e){return new Promise((function(t,i){if(s.Loca===a.failed)i("前次请求 Loca 失败");else if(s.Loca===a.notload){s.Loca=a.loading,n.Loca.version=e.version||n.Loca.version;var l=n.Loca.version,c=n.AMap.version.startsWith("2"),r=l.startsWith("2");if(c&&!r||!c&&r)i("JSAPI 与 Loca 版本不对应！！");else{c=n.key,r=document.body||document.head;var u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v="+l+"&key="+c,u.onerror=function(e){s.Loca=a.failed,i("请求 AMapUI 失败")},u.onload=function(){for(s.Loca=a.loaded,t();o.Loca.length;)o.Loca.splice(0,1)[0]()},r.appendChild(u)}}else s.Loca===a.loaded?e.version&&e.version!==n.Loca.version?i("不允许多个版本 Loca 混用"):t():e.version&&e.version!==n.Loca.version?i("不允许多个版本 Loca 混用"):o.Loca.push((function(e){e?i(e):i()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(a||(a={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},o={AMap:[],AMapUI:[],Loca:[]},l=[],c=function(e){"function"==typeof e&&(s.AMap===a.loaded?e(window.AMap):l.push(e))};return{load:function(t){return new Promise((function(i,o){if(s.AMap==a.failed)o("");else if(s.AMap==a.notload){var r=t.key,u=t.version,d=t.plugins;r?(window.AMap&&"lbs.amap.com"!==location.host&&o("禁止多种API加载方式混用"),n.key=r,n.AMap.version=u||n.AMap.version,n.AMap.plugins=d||n.AMap.plugins,s.AMap=a.loading,u=document.body||document.head,window.___onAPILoaded=function(n){if(delete window.___onAPILoaded,n)s.AMap=a.failed,o(n);else for(s.AMap=a.loaded,e(t).then((function(){i(window.AMap)}))["catch"](o);l.length;)l.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+r+"&plugin="+n.AMap.plugins.join(","),d.onerror=function(e){s.AMap=a.failed,o(e)},u.appendChild(d)):o("请填写key")}else if(s.AMap==a.loaded)if(t.key&&t.key!==n.key)o("多个不一致的 key");else if(t.version&&t.version!==n.AMap.version)o("不允许多个版本 JSAPI 混用");else{if(r=[],t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==n.AMap.plugins.indexOf(t.plugins[u])&&r.push(t.plugins[u]);r.length?window.AMap.plugin(r,(function(){e(t).then((function(){i(window.AMap)}))["catch"](o)})):e(t).then((function(){i(window.AMap)}))["catch"](o)}else if(t.key&&t.key!==n.key)o("多个不一致的 key");else if(t.version&&t.version!==n.AMap.version)o("不允许多个版本 JSAPI 混用");else{var p=[];if(t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==n.AMap.plugins.indexOf(t.plugins[u])&&p.push(t.plugins[u]);c((function(){p.length?window.AMap.plugin(p,(function(){e(t).then((function(){i(window.AMap)}))["catch"](o)})):e(t).then((function(){i(window.AMap)}))["catch"](o)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},o={AMap:[],AMapUI:[],Loca:[]}}}}))},"9a0c":function(e,t,i){var a=i("342f");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},b32b:function(e,t,i){},df2b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.hasBmView?e._e():i("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),e._t("default")],2)},n=[],s=i("7f25"),o=s["a"],l=i("2877"),c=Object(l["a"])(o,a,n,!1,null,null,null);t["a"]=c.exports}}]);