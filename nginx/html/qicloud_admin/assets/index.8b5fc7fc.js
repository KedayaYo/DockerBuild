import{_ as w}from"./index.9fa6ecce.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{f as k,o as x,aS as h,aG as p,C as y,D as v,aJ as e,aI as a,aN as f,bZ as B,aZ as L,ba as E,bG as S,be as $}from"./arco.35cd4a57.js";import{g as D}from"./vue.1515c820.js";import{l as g}from"./logger.5138959a.js";import"./chart.c690dcf1.js";const R={setup(){const s=D(),r=k([{fileName:"test"},{fileName:"test"},{fileName:"test"},{fileName:"test"},{fileName:"test"}]),m=o=>{s.push(`/logger/server-logger/:${encodeURIComponent(o)}`)},n=async()=>{g.get({router:"syslogs"}).then(o=>{o.code===0&&(r.value=o.data.logInfo.fileName.map(t=>({fileName:t})))})},d=o=>{g.get({router:"download",fileName:o.fileName}).then(t=>{if(t!=null&&t.code){h.error(t.reason);return}const c=new Blob([t]),l=window.URL.createObjectURL(c),i=document.createElement("a");i.href=l,i.download=`${o.fileName}.txt`,i.click()})},_=()=>{n()};return x(()=>{_()}),{dataSource:r,toLogger:m,download:d}}},z={class:"logger-server-wrap container"};function F(s,r,m,n,d,_){const o=B,t=p("icon-link"),c=L,l=p("icon-download"),i=E,C=S,N=$;return y(),v("div",z,[e(N,{style:{width:"100%"}},{default:a(()=>[e(C,{data:n.dataSource},{columns:a(()=>[e(o,{title:"\u6587\u4EF6\u540D","data-index":"fileName"}),e(o,{title:"\u64CD\u4F5C","data-index":"optional",onClick:n.toLogger},{cell:a(({record:u})=>[e(i,{size:"mini"},{default:a(()=>[e(c,{type:"primary",size:"mini",onClick:b=>n.toLogger(u.fileName)},{icon:a(()=>[e(t)]),default:a(()=>[f("\u8BE6\u60C5")]),_:2},1032,["onClick"]),e(c,{type:"primary",status:"warning",size:"mini",onClick:b=>n.download(u)},{icon:a(()=>[e(l)]),default:a(()=>[f("\u4E0B\u8F7D")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["onClick"])]),_:1},8,["data"])]),_:1})])}const W=w(R,[["render",F]]);export{W as default};
