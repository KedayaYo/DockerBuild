import{_ as V}from"./index.9fa6ecce.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as M,f,c as J,aG as K,C as n,D as _,aJ as s,aI as e,u as C,aN as u,aO as d,aE as h,aF as k,G as m,aL as y,aK as E,aS as U,aZ as W,bW as Z,ba as j,bG as q,be as H,bU as Q,b2 as X,bl as Y,bm as ee}from"./arco.35cd4a57.js";import{g as te}from"./vue.1515c820.js";import{a as x}from"./version.656b297a.js";import{f as ae,V as D}from"./index.571baf06.js";import"./chart.c690dcf1.js";const N=a=>(Y("data-v-c4cb44c5"),a=a(),ee(),a),se={class:"version-list-page container"},oe={class:"publish-time"},ne={class:"treeace-message"},ue=N(()=>m("h4",null,"\u5E73\u53F0\u4FE1\u606F",-1)),le=N(()=>m("h4",null,"\u66F4\u65B0\u5185\u5BB9",-1)),ce={key:0};var T=(a=>(a[a.green=1]="green",a[a.red=2]="red",a[a[""]=3]="",a))(T||{});const ie=M({__name:"index",setup(a){const O=[{title:"\u7248\u672C\u53F7",dataIndex:"versionCode"},{title:"\u72B6\u6001",dataIndex:"status",slotName:"status"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"publishTime"},{title:"\u64CD\u4F5C",dataIndex:"Optional",slotName:"Optional"}],F=te(),o=f([]);f(ae(D));const c=f(!1),i=f({funcDesc:""}),$=()=>{c.value=!1},A=()=>{c.value=!1},L=J(()=>i.value.funcDesc.split("br")),z=l=>{c.value=!0,i.value=l,console.log(l)},g=async()=>{const l=await x.fetch({page:1,size:20});o.value=l.data.list},I=async l=>{(await x.setVersionStatu({...l,status:1})).code===0&&(U.success("\u8BF7\u6C42\u6210\u529F"),g())};return g(),(l,r)=>{const w=K("icon-plus"),p=W,B=Z,b=j,R=q,S=H,G=Q,P=X;return n(),_("div",se,[s(S,{style:{width:"100%"},title:"\u7248\u672C\u5217\u8868"},{extra:e(()=>[s(p,{size:"small",type:"primary",onClick:r[0]||(r[0]=t=>C(F).push("version-add"))},{icon:e(()=>[s(w)]),default:e(()=>[u(" \u65B0\u589E ")]),_:1})]),default:e(()=>[s(R,{data:o.value,columns:O},{status:e(({rowIndex:t})=>[s(B,{color:T[o.value[t].status]},{default:e(()=>[u(d(C(D)[o.value[t].status]),1)]),_:2},1032,["color"])]),Optional:e(({rowIndex:t})=>[s(b,null,{default:e(()=>[s(p,{size:"small",onClick:v=>z(o.value[t])},{default:e(()=>[u(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"]),o.value[t].status!==1?(n(),h(p,{key:0,size:"small",status:"success",type:"primary",onClick:v=>I(o.value[t])},{default:e(()=>[u(" \u53D1\u5E03 ")]),_:2},1032,["onClick"])):k("",!0),o.value[t].status!==1?(n(),h(p,{key:1,type:"primary",size:"small",onClick:v=>C(F).push(`version-edit/${o.value[t].versionID}`)},{default:e(()=>[u(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:1},8,["data"])]),_:1}),s(P,{"title-align":"start",visible:c.value,onOk:$,onCancel:A},{title:e(()=>[s(b,null,{default:e(()=>[u(d(i.value.versionCode+"\u8BE6\u7EC6\u4FE1\u606F")+" ",1),m("span",oe,d(i.value.publishTime),1)]),_:1})]),footer:e(()=>[s(p,{onClick:r[1]||(r[1]=t=>c.value=!1)},{default:e(()=>[u("\u5173\u95ED")]),_:1})]),default:e(()=>[m("div",ne,[ue,s(G,null,{default:e(()=>[s(b,{wrap:""},{default:e(()=>[(n(!0),_(y,null,E(i.value.PLATList,t=>(n(),h(B,{key:t.PLATCode},{default:e(()=>[u(d(t.PLATName),1)]),_:2},1024))),128))]),_:1})]),_:1}),le,m("ol",null,[(n(!0),_(y,null,E(L.value,(t,v)=>(n(),_(y,{key:v},[t?(n(),_("li",ce,d(t),1)):k("",!0)],64))),128))])])]),_:1},8,["visible"])])}}});const Ne=V(ie,[["__scopeId","data-v-c4cb44c5"]]);export{Ne as default};
