var pt=Object.defineProperty;var mt=(s,e,t)=>e in s?pt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Q=(s,e,t)=>(mt(s,typeof e!="symbol"?e+"":e,t),t);import{_ as Ye}from"./index.9fa6ecce.js";/* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import{aQ as yt,aS as Y,f as x,C as ne,aE as He,aI as m,aJ as d,aN as q,b5 as je,b6 as gt,bT as Xe,bU as Je,aZ as ze,ba as We,bb as bt,c as kt,aV as ae,aG as xe,D as Ee,aL as Ct,aK as _t,G as Se,bL as vt,bJ as wt,be as xt,bG as Et}from"./arco.35cd4a57.js";/* empty css               */import"./chart.c690dcf1.js";import"./vue.1515c820.js";var fe={exports:{}},oe={},St=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,At=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ge=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");n!=-1&&o!=-1&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var r=St.exec(e||""),u={},a=14;a--;)u[At[a]]=r[a]||"";return n!=-1&&o!=-1&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=Bt(u,u.path),u.queryKey=Tt(u,u.query),u};function Bt(s,e){var t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Tt(s,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,r){o&&(t[o]=r)}),t}var B={exports:{}},ce,Ae;function Ft(){if(Ae)return ce;Ae=1;var s=1e3,e=s*60,t=e*60,n=t*24,o=n*7,r=n*365.25;ce=function(l,i){i=i||{};var c=typeof l;if(c==="string"&&l.length>0)return u(l);if(c==="number"&&isFinite(l))return i.long?h(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function u(l){if(l=String(l),!(l.length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(!!i){var c=parseFloat(i[1]),f=(i[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return c*r;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*t;case"minutes":case"minute":case"mins":case"min":case"m":return c*e;case"seconds":case"second":case"secs":case"sec":case"s":return c*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function a(l){var i=Math.abs(l);return i>=n?Math.round(l/n)+"d":i>=t?Math.round(l/t)+"h":i>=e?Math.round(l/e)+"m":i>=s?Math.round(l/s)+"s":l+"ms"}function h(l){var i=Math.abs(l);return i>=n?p(l,i,n,"day"):i>=t?p(l,i,t,"hour"):i>=e?p(l,i,e,"minute"):i>=s?p(l,i,s,"second"):l+" ms"}function p(l,i,c,f){var k=i>=c*1.5;return Math.round(l/c)+" "+f+(k?"s":"")}return ce}function Nt(s){t.debug=t,t.default=t,t.coerce=h,t.disable=r,t.enable=o,t.enabled=u,t.humanize=Ft(),t.destroy=p,Object.keys(s).forEach(l=>{t[l]=s[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let i=0;for(let c=0;c<l.length;c++)i=(i<<5)-i+l.charCodeAt(c),i|=0;return t.colors[Math.abs(i)%t.colors.length]}t.selectColor=e;function t(l){let i,c=null,f,k;function g(...y){if(!g.enabled)return;const b=g,E=Number(new Date),W=E-(i||E);b.diff=W,b.prev=i,b.curr=E,i=E,y[0]=t.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let U=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(w,O)=>{if(w==="%%")return"%";U++;const G=t.formatters[O];if(typeof G=="function"){const dt=y[U];w=G.call(b,dt),y.splice(U,1),U--}return w}),t.formatArgs.call(b,y),(b.log||t.log).apply(b,y)}return g.namespace=l,g.useColors=t.useColors(),g.color=t.selectColor(l),g.extend=n,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(f!==t.namespaces&&(f=t.namespaces,k=t.enabled(l)),k),set:y=>{c=y}}),typeof t.init=="function"&&t.init(g),g}function n(l,i){const c=t(this.namespace+(typeof i>"u"?":":i)+l);return c.log=this.log,c}function o(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let i;const c=(typeof l=="string"?l:"").split(/[\s,]+/),f=c.length;for(i=0;i<f;i++)!c[i]||(l=c[i].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function r(){const l=[...t.names.map(a),...t.skips.map(a).map(i=>"-"+i)].join(",");return t.enable(""),l}function u(l){if(l[l.length-1]==="*")return!0;let i,c;for(i=0,c=t.skips.length;i<c;i++)if(t.skips[i].test(l))return!1;for(i=0,c=t.names.length;i<c;i++)if(t.names[i].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function h(l){return l instanceof Error?l.stack||l.message:l}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var Ot=Nt;(function(s,e){e.formatArgs=n,e.save=o,e.load=r,e.useColors=t,e.storage=u(),e.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let l=0,i=0;h[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(l++,c==="%c"&&(i=l))}),h.splice(i,0,p)}e.log=console.debug||console.log||(()=>{});function o(h){try{h?e.storage.setItem("debug",h):e.storage.removeItem("debug")}catch{}}function r(){let h;try{h=e.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h={}.DEBUG),h}function u(){try{return localStorage}catch{}}s.exports=Ot(e);const{formatters:a}=s.exports;a.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(B,B.exports);Object.defineProperty(oe,"__esModule",{value:!0});oe.url=void 0;const Pt=Ge,Be=B.exports("socket.io-client:url");function Rt(s,e="",t){let n=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(Be("protocol-less url %s",s),typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),Be("parse %s",s),n=Pt(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+e,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}oe.url=Rt;var H={},L={exports:{}},re={},de={exports:{}};try{de.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{de.exports=!1}var ie=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();const Dt=de.exports,It=ie;var Qe=function(s){const e=s.xdomain,t=s.xscheme,n=s.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!e||Dt))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!t&&n)return new XDomainRequest}catch{}if(!e)try{return new It[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},ge={exports:{}};const N=Object.create(null);N.open="0";N.close="1";N.ping="2";N.pong="3";N.message="4";N.upgrade="5";N.noop="6";const Ze=Object.create(null);Object.keys(N).forEach(s=>{Ze[N[s]]=s});const Mt={type:"error",data:"parser error"};var et={PACKET_TYPES:N,PACKET_TYPES_REVERSE:Ze,ERROR_PACKET:Mt};const{PACKET_TYPES:qt}=et,Lt=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vt=typeof ArrayBuffer=="function",Kt=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Ut=({type:s,data:e},t,n)=>Lt&&e instanceof Blob?t?n(e):Te(e,n):Vt&&(e instanceof ArrayBuffer||Kt(e))?t?n(e):Te(new Blob([e]),n):n(qt[s]+(e||"")),Te=(s,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+n)},t.readAsDataURL(s)};var $t=Ut,Z={},Fe;function Yt(){return Fe||(Fe=1,function(s){Z.encode=function(e){var t=new Uint8Array(e),n,o=t.length,r="";for(n=0;n<o;n+=3)r+=s[t[n]>>2],r+=s[(t[n]&3)<<4|t[n+1]>>4],r+=s[(t[n+1]&15)<<2|t[n+2]>>6],r+=s[t[n+2]&63];return o%3===2?r=r.substring(0,r.length-1)+"=":o%3===1&&(r=r.substring(0,r.length-2)+"=="),r},Z.decode=function(e){var t=e.length*.75,n=e.length,o,r=0,u,a,h,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=new ArrayBuffer(t),i=new Uint8Array(l);for(o=0;o<n;o+=4)u=s.indexOf(e[o]),a=s.indexOf(e[o+1]),h=s.indexOf(e[o+2]),p=s.indexOf(e[o+3]),i[r++]=u<<2|a>>4,i[r++]=(a&15)<<4|h>>2,i[r++]=(h&3)<<6|p&63;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),Z}const{PACKET_TYPES_REVERSE:le,ERROR_PACKET:Ht}=et,jt=typeof ArrayBuffer=="function";let pe;jt&&(pe=Yt());const Xt=(s,e)=>{if(typeof s!="string")return{type:"message",data:tt(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:Jt(s.substring(1),e)}:le[t]?s.length>1?{type:le[t],data:s.substring(1)}:{type:le[t]}:Ht},Jt=(s,e)=>{if(pe){const t=pe.decode(s);return tt(t,e)}else return{base64:!0,data:s}},tt=(s,e)=>{switch(e){case"blob":return s instanceof ArrayBuffer?new Blob([s]):s;case"arraybuffer":default:return s}};var zt=Xt;const nt=$t,st=zt,ot=String.fromCharCode(30),Wt=(s,e)=>{const t=s.length,n=new Array(t);let o=0;s.forEach((r,u)=>{nt(r,!1,a=>{n[u]=a,++o===t&&e(n.join(ot))})})},Gt=(s,e)=>{const t=s.split(ot),n=[];for(let o=0;o<t.length;o++){const r=st(t[o],e);if(n.push(r),r.type==="error")break}return n};var j={protocol:4,encodePacket:nt,encodePayload:Wt,decodePacket:st,decodePayload:Gt},V={exports:{}};(function(s){s.exports=e;function e(n){if(n)return t(n)}function t(n){for(var o in e.prototype)n[o]=e.prototype[o];return n}e.prototype.on=e.prototype.addEventListener=function(n,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(o),this},e.prototype.once=function(n,o){function r(){this.off(n,r),o.apply(this,arguments)}return r.fn=o,this.on(n,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+n];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var u,a=0;a<r.length;a++)if(u=r[a],u===o||u.fn===o){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),r=this._callbacks["$"+n],u=1;u<arguments.length;u++)o[u-1]=arguments[u];if(r){r=r.slice(0);for(var u=0,a=r.length;u<a;++u)r[u].apply(this,o)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(V);const Qt=j,Zt=V.exports,en=B.exports("engine.io-client:transport");class tn extends Zt{constructor(e){super(),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):en("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const t=Qt.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}}var be=tn,X={};X.encode=function(s){var e="";for(var t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e};X.decode=function(s){for(var e={},t=s.split("&"),n=0,o=t.length;n<o;n++){var r=t[n].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e};var rt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),se=64,it={},Ne=0,R=0,Oe;function me(s){var e="";do e=rt[s%se]+e,s=Math.floor(s/se);while(s>0);return e}function nn(s){var e=0;for(R=0;R<s.length;R++)e=e*se+it[s.charAt(R)];return e}function ke(){var s=me(+new Date);return s!==Oe?(Ne=0,Oe=s):s+"."+me(Ne++)}for(;R<se;R++)it[rt[R]]=R;ke.encode=me;ke.decode=nn;var at=ke;const sn=be,on=X,Pe=j,rn=at,T=B.exports("engine.io-client:polling");class an extends sn{get name(){return"polling"}doOpen(){this.poll()}pause(e){const t=this;this.readyState="pausing";function n(){T("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){let o=0;this.polling&&(T("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){T("pre-pause polling complete"),--o||n()})),this.writable||(T("we are currently writing - waiting to pause"),o++,this.once("drain",function(){T("pre-pause writing complete"),--o||n()}))}else n()}poll(){T("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const t=this;T("polling got data %s",e);const n=function(o,r,u){if(t.readyState==="opening"&&o.type==="open"&&t.onOpen(),o.type==="close")return t.onClose(),!1;t.onPacket(o)};Pe.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():T('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=this;function t(){T("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(T("transport open - closing"),t()):(T("transport not open - deferring close"),this.once("open",t))}write(e){this.writable=!1,Pe.encodePayload(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=rn()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=on.encode(e),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),e.length&&(e="?"+e);const o=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}var ct=an,Ce={};Ce.pick=(s,...e)=>e.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{});const lt=Qe,cn=ct,ln=V.exports,{pick:un}=Ce,hn=ie,ye=B.exports("engine.io-client:polling-xhr");function Re(){}const fn=function(){return new lt({xdomain:!1}).responseType!=null}();class dn extends cn{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let o=location.port;o||(o=n?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||o!==e.port,this.xs=e.secure!==n}const t=e&&e.forceBase64;this.supportsBinary=fn&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new F(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e}),o=this;n.on("success",t),n.on("error",function(r){o.onError("xhr post error",r)})}doPoll(){ye("xhr poll");const e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e}}class F extends ln{constructor(e,t){super(),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=un(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new lt(e),n=this;try{ye("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof t.status=="number"?t.status:0)},0))},ye("xhr data %s",this.data),t.send(this.data)}catch(o){setTimeout(function(){n.onError(o)},0);return}typeof document<"u"&&(this.index=F.requestsCount++,F.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Re:this.xhr.onreadystatechange=Re,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete F.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}F.requestsCount=0;F.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",De);else if(typeof addEventListener=="function"){const s="onpagehide"in hn?"pagehide":"unload";addEventListener(s,De,!1)}}function De(){for(let s in F.requests)F.requests.hasOwnProperty(s)&&F.requests[s].abort()}ge.exports=dn;ge.exports.Request=F;const pn=ct,Ie=ie,mn=/\n/g,yn=/\\n/g;let ee;class gn extends pn{constructor(e){super(e),this.query=this.query||{},ee||(ee=Ie.___eio=Ie.___eio||[]),this.index=ee.length;const t=this;ee.push(function(n){t.onData(n)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(r){e.onError("jsonp poll error",r)};const n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const r=document.createElement("iframe");document.body.appendChild(r),document.body.removeChild(r)},100)}doWrite(e,t){const n=this;let o;if(!this.form){const a=document.createElement("form"),h=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=p,a.method="POST",a.setAttribute("accept-charset","utf-8"),h.name="d",a.appendChild(h),document.body.appendChild(a),this.form=a,this.area=h}this.form.action=this.uri();function r(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(a){n.onError("jsonp polling iframe removal error",a)}try{const a='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(a)}catch{o=document.createElement("iframe"),o.name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}u(),e=e.replace(yn,`\\
`),this.area.value=e.replace(mn,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&r()}:this.iframe.onload=r}}var bn=gn;const Me=ie;var kn={WebSocket:Me.WebSocket||Me.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};const qe=be,Cn=j,_n=X,vn=at,{pick:wn}=Ce,{WebSocket:$,usingBrowserWebSocket:ue,defaultBinaryType:xn}=kn,En=B.exports("engine.io-client:websocket"),Le=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _e extends qe{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Le?{}:wn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ue&&!Le?t?new $(e,t):new $(e):new $(e,t,n)}catch(o){return this.emit("error",o)}this.ws.binaryType=this.socket.binaryType||xn,this.addEventListeners()}addEventListeners(){const e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}write(e){const t=this;this.writable=!1;let n=e.length,o=0;const r=n;for(;o<r;o++)(function(a){Cn.encodePacket(a,t.supportsBinary,function(h){const p={};ue||(a.options&&(p.compress=a.options.compress),t.opts.perMessageDeflate&&(typeof h=="string"?Buffer.byteLength(h):h.length)<t.opts.perMessageDeflate.threshold&&(p.compress=!1));try{ue?t.ws.send(h):t.ws.send(h,p)}catch{En("websocket closed before onclose event")}--n||u()})})(e[o]);function u(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}}onClose(){qe.prototype.onClose.call(this)}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=vn()),this.supportsBinary||(e.b64=1),e=_n.encode(e),e.length&&(e="?"+e);const o=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!!$&&!("__initialize"in $&&this.name===_e.prototype.name)}}var Sn=_e;const An=Qe,Bn=ge.exports,Tn=bn,Fn=Sn;re.polling=Nn;re.websocket=Fn;function Nn(s){let e,t=!1,n=!1;const o=s.jsonp!==!1;if(typeof location<"u"){const r=location.protocol==="https:";let u=location.port;u||(u=r?443:80),t=s.hostname!==location.hostname||u!==s.port,n=s.secure!==r}if(s.xdomain=t,s.xscheme=n,e=new An(s),"open"in e&&!s.forceJSONP)return new Bn(s);if(!o)throw new Error("JSONP disabled");return new Tn(s)}const On=re,Pn=V.exports,C=B.exports("engine.io-client:socket"),ut=j,Ve=Ge,Rn=X;class P extends Pn{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=Ve(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ve(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Rn.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.open()}createTransport(e){C('creating transport "%s"',e);const t=Dn(this.opts.query);t.EIO=ut.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return C("options: %j",n),new On[e](n)}open(){let e;if(this.opts.rememberUpgrade&&P.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){const t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){C("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){C("setting transport %s",e.name);const t=this;this.transport&&(C("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})}probe(e){C('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1;const o=this;P.priorWebsocketSuccess=!1;function r(){if(o.onlyBinaryUpgrades){const c=!this.supportsBinary&&o.transport.supportsBinary;n=n||c}n||(C('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(c){if(!n)if(c.type==="pong"&&c.data==="probe"){if(C('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",t),!t)return;P.priorWebsocketSuccess=t.name==="websocket",C('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){n||o.readyState!=="closed"&&(C("changing transport and sending upgrade packet"),i(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{C('probe transport "%s" failed',e);const f=new Error("probe error");f.transport=t.name,o.emit("upgradeError",f)}}))}function u(){n||(n=!0,i(),t.close(),t=null)}function a(c){const f=new Error("probe error: "+c);f.transport=t.name,u(),C('probe transport "%s" failed because of error: %s',e,c),o.emit("upgradeError",f)}function h(){a("transport closed")}function p(){a("socket closed")}function l(c){t&&c.name!==t.name&&(C('"%s" works - aborting "%s"',c.name,t.name),u())}function i(){t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",h),o.removeListener("close",p),o.removeListener("upgrading",l)}t.once("open",r),t.once("error",a),t.once("close",h),this.once("close",p),this.once("upgrading",l),t.open()}onOpen(){if(C("socket open"),this.readyState="open",P.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){C("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(C('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else C('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(C("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,o){if(typeof t=="function"&&(o=t,t=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const e=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t());function t(){e.onClose("forced close"),C("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function o(){e.once("upgrade",n),e.once("upgradeError",n)}return this}onError(e){C("socket error %j",e),P.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){C('socket close with reason: "%s"',e);const n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){const t=[];let n=0;const o=e.length;for(;n<o;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}P.priorWebsocketSuccess=!1;P.protocol=ut.protocol;function Dn(s){const e={};for(let t in s)s.hasOwnProperty(t)&&(e[t]=s[t]);return e}var In=P;const ve=In;L.exports=(s,e)=>new ve(s,e);L.exports.Socket=ve;L.exports.protocol=ve.protocol;L.exports.Transport=be;L.exports.transports=re;L.exports.parser=j;var J={},he={},D={},I={},Ke;function ht(){if(Ke)return I;Ke=1,Object.defineProperty(I,"__esModule",{value:!0}),I.hasBinary=I.isBinary=void 0;const s=typeof ArrayBuffer=="function",e=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,t=Object.prototype.toString,n=typeof Blob=="function"||typeof Blob<"u"&&t.call(Blob)==="[object BlobConstructor]",o=typeof File=="function"||typeof File<"u"&&t.call(File)==="[object FileConstructor]";function r(a){return s&&(a instanceof ArrayBuffer||e(a))||n&&a instanceof Blob||o&&a instanceof File}I.isBinary=r;function u(a,h){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let p=0,l=a.length;p<l;p++)if(u(a[p]))return!0;return!1}if(r(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return u(a.toJSON(),!0);for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)&&u(a[p]))return!0;return!1}return I.hasBinary=u,I}var Ue;function Mn(){if(Ue)return D;Ue=1,Object.defineProperty(D,"__esModule",{value:!0}),D.reconstructPacket=D.deconstructPacket=void 0;const s=ht();function e(r){const u=[],a=r.data,h=r;return h.data=t(a,u),h.attachments=u.length,{packet:h,buffers:u}}D.deconstructPacket=e;function t(r,u){if(!r)return r;if(s.isBinary(r)){const a={_placeholder:!0,num:u.length};return u.push(r),a}else if(Array.isArray(r)){const a=new Array(r.length);for(let h=0;h<r.length;h++)a[h]=t(r[h],u);return a}else if(typeof r=="object"&&!(r instanceof Date)){const a={};for(const h in r)r.hasOwnProperty(h)&&(a[h]=t(r[h],u));return a}return r}function n(r,u){return r.data=o(r.data,u),r.attachments=void 0,r}D.reconstructPacket=n;function o(r,u){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<u.length)return u[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let a=0;a<r.length;a++)r[a]=o(r[a],u);else if(typeof r=="object")for(const a in r)r.hasOwnProperty(a)&&(r[a]=o(r[a],u));return r}return D}var $e;function we(){return $e||($e=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Decoder=s.Encoder=s.PacketType=s.protocol=void 0;const e=V.exports,t=Mn(),n=ht(),o=B.exports("socket.io-parser");s.protocol=5;var r;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(r=s.PacketType||(s.PacketType={}));class u{encode(i){return o("encoding packet %j",i),(i.type===r.EVENT||i.type===r.ACK)&&n.hasBinary(i)?(i.type=i.type===r.EVENT?r.BINARY_EVENT:r.BINARY_ACK,this.encodeAsBinary(i)):[this.encodeAsString(i)]}encodeAsString(i){let c=""+i.type;return(i.type===r.BINARY_EVENT||i.type===r.BINARY_ACK)&&(c+=i.attachments+"-"),i.nsp&&i.nsp!=="/"&&(c+=i.nsp+","),i.id!=null&&(c+=i.id),i.data!=null&&(c+=JSON.stringify(i.data)),o("encoded %j as %s",i,c),c}encodeAsBinary(i){const c=t.deconstructPacket(i),f=this.encodeAsString(c.packet),k=c.buffers;return k.unshift(f),k}}s.Encoder=u;class a extends e{constructor(){super()}add(i){let c;if(typeof i=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");c=this.decodeString(i),c.type===r.BINARY_EVENT||c.type===r.BINARY_ACK?(this.reconstructor=new p(c),c.attachments===0&&super.emit("decoded",c)):super.emit("decoded",c)}else if(n.isBinary(i)||i.base64)if(this.reconstructor)c=this.reconstructor.takeBinaryData(i),c&&(this.reconstructor=null,super.emit("decoded",c));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}decodeString(i){let c=0;const f={type:Number(i.charAt(0))};if(r[f.type]===void 0)throw new Error("unknown packet type "+f.type);if(f.type===r.BINARY_EVENT||f.type===r.BINARY_ACK){const g=c+1;for(;i.charAt(++c)!=="-"&&c!=i.length;);const y=i.substring(g,c);if(y!=Number(y)||i.charAt(c)!=="-")throw new Error("Illegal attachments");f.attachments=Number(y)}if(i.charAt(c+1)==="/"){const g=c+1;for(;++c&&!(i.charAt(c)===","||c===i.length););f.nsp=i.substring(g,c)}else f.nsp="/";const k=i.charAt(c+1);if(k!==""&&Number(k)==k){const g=c+1;for(;++c;){const y=i.charAt(c);if(y==null||Number(y)!=y){--c;break}if(c===i.length)break}f.id=Number(i.substring(g,c+1))}if(i.charAt(++c)){const g=h(i.substr(c));if(a.isPayloadValid(f.type,g))f.data=g;else throw new Error("invalid payload")}return o("decoded %s as %j",i,f),f}static isPayloadValid(i,c){switch(i){case r.CONNECT:return typeof c=="object";case r.DISCONNECT:return c===void 0;case r.CONNECT_ERROR:return typeof c=="string"||typeof c=="object";case r.EVENT:case r.BINARY_EVENT:return Array.isArray(c)&&c.length>0;case r.ACK:case r.BINARY_ACK:return Array.isArray(c)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}s.Decoder=a;function h(l){try{return JSON.parse(l)}catch{return!1}}class p{constructor(i){this.packet=i,this.buffers=[],this.reconPack=i}takeBinaryData(i){if(this.buffers.push(i),this.buffers.length===this.reconPack.attachments){const c=t.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),c}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}(he)),he}var z={};Object.defineProperty(z,"__esModule",{value:!0});z.on=void 0;function qn(s,e,t){return s.on(e,t),function(){s.off(e,t)}}z.on=qn;Object.defineProperty(J,"__esModule",{value:!0});J.Socket=void 0;const S=we(),Ln=V.exports,te=z,A=B.exports("socket.io-client:socket"),Vn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Kn extends Ln{constructor(e,t,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[te.on(e,"open",this.onopen.bind(this)),te.on(e,"packet",this.onpacket.bind(this)),te.on(e,"error",this.onerror.bind(this)),te.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Vn.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:S.PacketType.EVENT,data:t};n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"&&(A("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++);const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)?A("discard packet as the transport is not currently writable"):this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){A("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:S.PacketType.CONNECT,data:e})}):this.packet({type:S.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||super.emit("connect_error",e)}onclose(e){A("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case S.PacketType.CONNECT:if(e.data&&e.data.sid){const o=e.data.sid;this.onconnect(o)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case S.PacketType.EVENT:this.onevent(e);break;case S.PacketType.BINARY_EVENT:this.onevent(e);break;case S.PacketType.ACK:this.onack(e);break;case S.PacketType.BINARY_ACK:this.onack(e);break;case S.PacketType.DISCONNECT:this.ondisconnect();break;case S.PacketType.CONNECT_ERROR:const n=new Error(e.data.message);n.data=e.data.data,super.emit("connect_error",n);break}}onevent(e){const t=e.data||[];A("emitting event %j",t),e.id!=null&&(A("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...o){n||(n=!0,A("sending ack %j",o),t.packet({type:S.PacketType.ACK,id:e,data:o}))}}onack(e){const t=this.acks[e.id];typeof t=="function"?(A("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):A("bad ack %s",e.id)}onconnect(e){A("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){A("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(A("performing disconnect (%s)",this.nsp),this.packet({type:S.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}J.Socket=Kn;var Un=K;function K(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}K.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-t:s+t}return Math.min(s,this.max)|0};K.prototype.reset=function(){this.attempts=0};K.prototype.setMin=function(s){this.ms=s};K.prototype.setMax=function(s){this.max=s};K.prototype.setJitter=function(s){this.jitter=s};Object.defineProperty(H,"__esModule",{value:!0});H.Manager=void 0;const $n=L.exports,Yn=J,Hn=V.exports,jn=we(),M=z,Xn=Un,v=B.exports("socket.io-client:manager");class Jn extends Hn{constructor(e,t){super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Xn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||jn;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(v("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;v("opening %s",this.uri),this.engine=$n(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=M.on(t,"open",function(){n.onopen(),e&&e()}),r=M.on(t,"error",u=>{v("error"),n.cleanup(),n._readyState="closed",super.emit("error",u),e?e(u):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const u=this._timeout;v("connect attempt will timeout after %d",u),u===0&&o();const a=setTimeout(()=>{v("connect attempt timed out after %d",u),o(),t.close(),t.emit("error",new Error("timeout"))},u);this.subs.push(function(){clearTimeout(a)})}return this.subs.push(o),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){v("open"),this.cleanup(),this._readyState="open",super.emit("open");const e=this.engine;this.subs.push(M.on(e,"ping",this.onping.bind(this)),M.on(e,"data",this.ondata.bind(this)),M.on(e,"error",this.onerror.bind(this)),M.on(e,"close",this.onclose.bind(this)),M.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){super.emit("packet",e)}onerror(e){v("error",e),super.emit("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Yn.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active){v("socket %s is still active, skipping close",n);return}this._close()}_packet(e){v("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){v("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){v("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){v("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)v("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();v("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=setTimeout(()=>{e.skipReconnect||(v("attempting reconnect"),super.emit("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(v("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),super.emit("reconnect_error",o)):(v("reconnect success"),e.onreconnect())}))},t);this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",e)}}H.Manager=Jn;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;const t=oe,n=H,o=J;Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return o.Socket}});const r=B.exports("socket.io-client");s.exports=e=a;const u=e.managers={};function a(l,i){typeof l=="object"&&(i=l,l=void 0),i=i||{};const c=t.url(l,i.path),f=c.source,k=c.id,g=c.path,y=u[k]&&g in u[k].nsps,b=i.forceNew||i["force new connection"]||i.multiplex===!1||y;let E;return b?(r("ignoring socket cache for %s",f),E=new n.Manager(f,i)):(u[k]||(r("new io instance for %s",f),u[k]=new n.Manager(f,i)),E=u[k]),c.query&&!i.query&&(i.query=c.queryKey),E.socket(c.path,i)}e.io=a;var h=we();Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return h.protocol}}),e.connect=a;var p=H;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return p.Manager}})})(fe,fe.exports);const ft=yt(fe.exports);ft.Manager;class zn{constructor(e){Q(this,"option",{host:"",port:"",mountpoint:"/user",accessKeyId:"",accessKeySecret:""});Q(this,"socket");Q(this,"status",!1);this.option=e,this.onMountedSocket()}onMountedSocket(){const e={accessKeyId:this.option.accessKeyId,accessKeySecret:this.option.accessKeySecret};this.socket=ft(`${this.option.host}:${this.option.port}${this.option.mountpoint}`,{query:e}),this.unMountedSocket=this.unMountedSocket.bind(this),this.onMountedSocketEvent()}onMountedSocketEvent(){this.socket.on("connecting",()=>{console.warn("connecting")}),this.socket.on("connect",()=>{console.warn("connect"),Y.info("Socket\u670D\u52A1\u5DF2\u8FDE\u63A5"),this.status=!0}),this.socket.on("disconnect",e=>{console.error("disconnect"),Y.error("Socket\u670D\u52A1\u5DF2\u65AD\u5F00"),this.status=!1}),this.socket.on("connection notice",e=>{console.log(e),Y.error("Socket\u670D\u52A1\u5DF2\u65AD\u5F00"),this.status=!1})}unMountedSocket(){this.socket&&this.socket.disconnect(),this.socket=null}}const Wn={props:{customKey:{type:String,default:"-1",required:!0},gutter:{type:Number,required:!0,default:20}},emits:["hostChange","emitSocket"],setup(s,{emit:e}){const t=x({}),n=x(s.gutter),o=x({host:"http://api.skysys.cn",port:"8082",mountpoint:"/user",accessKeyId:"Qc7N3Sc7N4QY",accessKeySecret:"6f03f8666c71715ff41428bfaf737939"});return{model:o,Gutter:n,onInput:h=>{console.log(h),e("hostChange",{value:h,key:s.customKey})},connect:()=>{t.value=new zn(o.value),e("emitSocket",t.value.socket)},onCloseSocket:()=>{t.value.unMountedSocket()}}}};function Gn(s,e,t,n,o,r){const u=je,a=gt,h=Xe,p=Je,l=ze,i=We,c=bt;return ne(),He(c,{model:n.model,layout:"vertical"},{default:m(()=>[d(p,{class:"grid-demo",gutter:n.Gutter},{default:m(()=>[d(h,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(a,{label:"\u4E3B\u673A\u540D"},{default:m(()=>[d(u,{modelValue:n.model.host,"onUpdate:modelValue":e[0]||(e[0]=f=>n.model.host=f),onChange:n.onInput},null,8,["modelValue","onChange"])]),_:1})]),_:1}),d(h,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(a,{label:"\u7AEF\u53E3"},{default:m(()=>[d(u,{modelValue:n.model.port,"onUpdate:modelValue":e[1]||(e[1]=f=>n.model.port=f),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1}),d(h,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(a,{label:"\u6302\u8F7D\u70B9"},{default:m(()=>[d(u,{modelValue:n.model.mountpoint,"onUpdate:modelValue":e[2]||(e[2]=f=>n.model.mountpoint=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"]),d(p,{gutter:n.Gutter},{default:m(()=>[d(h,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(a,{label:"AccessKeyId"},{default:m(()=>[d(u,{modelValue:n.model.accessKeyId,"onUpdate:modelValue":e[3]||(e[3]=f=>n.model.accessKeyId=f)},null,8,["modelValue"])]),_:1})]),_:1}),d(h,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(a,{label:"AccessKeySecret"},{default:m(()=>[d(u,{modelValue:n.model.accessKeySecret,"onUpdate:modelValue":e[4]||(e[4]=f=>n.model.accessKeySecret=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["gutter"]),d(a,{class:"button-group"},{default:m(()=>[d(i,null,{default:m(()=>[d(l,{type:"primary",status:"success",onClick:n.connect},{default:m(()=>[q(" \u8FDE\u63A5 ")]),_:1},8,["onClick"]),d(l,{type:"primary",status:"danger",onClick:n.onCloseSocket},{default:m(()=>[q(" \u65AD\u5F00\u94FE\u63A5 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model"])}const Qn=Ye(Wn,[["render",Gn],["__scopeId","data-v-53d8a630"]]),Zn={components:{Service:Qn},setup(){const s=x(20),e=x(1),t=x([]),n=x(""),o=x([]),r=x(),u=x([]),a=x([]),h=kt(()=>!!r.value),p=x({topic:"uav manual-mission",playload:JSON.stringify({msgId:"UAV_16765270644242023-03-06 09:42:16",msgType:"uav_manual_code",UAVID:"UAV_1676527064424",siteFMode:1,timestamp:"2023-03-06 09:42:16",joystick:{vertical:0,pitch:0,roll:50,yaw:0}})}),l=x([{title:"Topic",dataIndex:"topic"},{title:"\u65F6\u95F4",dataIndex:"timestamp"},{title:"\u64CD\u4F5C",dataIndex:"optional",slotName:"Optional"}]),i=()=>{t.value.push({key:e.value.toString(),title:`\u9ED8\u8BA4\u8FDE\u63A5${e.value.toString()}`}),e.value+=1};i();const c=()=>{i()},f=(_,w)=>{const O=t.value.findIndex(G=>_===G.key);t.value.splice(Number(O),1)},k=_=>{const w=t.value.findIndex(O=>_.key===O.key);t.value[w].title=_.value?_.value:t.value[w].title},g=_=>{r.value=_},y=_=>{r.value.on(_,w=>{u.value.unshift({topic:_,playload:JSON.stringify(w),timestamp:ae(new Date).format("YYYY-MM-DD HH:mm:ss")})})};return{gutter:s,tabs:t,topic:n,columns:l,topics:o,messages:u,clientMessages:a,release:p,hasSocketEntity:h,onTopic:()=>{if(r.value.hasListeners(n.value)){Y.warning("\u8BF7\u52FF\u91CD\u590D\u8BA2\u9605");return}o.value.push({topic:n.value,timestamp:ae(new Date).format("YYYY-MM-DD HH:mm:ss")}),y(n.value)},onChangeSocket:g,handleAppend:c,handleDelete:f,onHostChange:k,onSendMessage:()=>{try{const _=JSON.parse(p.value.playload),w=ae(new Date).format("YYYY-MM-DD HH:mm:ss");a.value.unshift({...p.value,timestamp:w}),r.value.emit(p.value.topic,{..._,timestamp:w},O=>{console.log(O)})}catch(_){Y.error(_)}},onRemoveEvent:_=>{const w=o.value.findIndex(O=>_===O.topic);w!==-1&&(r.value.off(_),o.value.splice(w,1))},onRefresh:_=>{_===1?u.value=[]:a.value=[]}}}};const es={class:"tools-wrap container"};function ts(s,e,t,n,o,r){const u=je,a=xe("Service"),h=vt,p=wt,l=xt,i=ze,c=We,f=Xe,k=Et,g=Je,y=xe("icon-refresh");return ne(),Ee("div",es,[d(l,{title:"Socket.io"},{default:m(()=>[d(p,{type:"card-gutter",editable:!0,"auto-switch":"",onAdd:n.handleAppend,onDelete:n.handleDelete},{default:m(()=>[(ne(!0),Ee(Ct,null,_t(n.tabs,(b,E)=>(ne(),He(h,{key:b.key,title:b.title,closable:E!==0},{title:m(()=>[d(u,{modelValue:b.title,"onUpdate:modelValue":W=>b.title=W,size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),default:m(()=>[d(a,{"custom-key":b.key,gutter:n.gutter,onHostChange:n.onHostChange,onEmitSocket:n.onChangeSocket},null,8,["custom-key","gutter","onHostChange","onEmitSocket"])]),_:2},1032,["title","closable"]))),128))]),_:1},8,["onAdd","onDelete"])]),_:1}),d(l,{title:"\u8BA2\u9605"},{default:m(()=>[d(g,{gutter:n.gutter},{default:m(()=>[d(f,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12},{default:m(()=>[d(c,{direction:"vertical",fill:""},{default:m(()=>[d(u,{modelValue:n.topic,"onUpdate:modelValue":e[0]||(e[0]=b=>n.topic=b),placeholder:"\u8BF7\u8F93\u5165\u60A8\u9700\u8981\u8BA2\u9605\u7684\u4E3B\u9898"},null,8,["modelValue"]),d(i,{style:{width:"100px","margin-bottom":"10px"},type:"primary",status:"success",disabled:!n.hasSocketEntity,onClick:n.onTopic},{default:m(()=>[q(" \u8BA2\u9605 ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1}),d(f,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12},{default:m(()=>[d(k,{columns:n.columns,data:n.topics},{Optional:m(({record:b})=>[d(i,{size:"small",status:"danger",onClick:E=>n.onRemoveEvent(b.topic)},{default:m(()=>[q("\u53D6\u6D88")]),_:2},1032,["onClick"])]),_:1},8,["columns","data"])]),_:1})]),_:1},8,["gutter"])]),_:1}),d(l,{title:"\u53D1\u5E03"},{default:m(()=>[d(g,{gutter:n.gutter,style:{"margin-bottom":"20px"}},{default:m(()=>[d(f,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(u,{modelValue:n.release.topic,"onUpdate:modelValue":e[1]||(e[1]=b=>n.release.topic=b),placeholder:"Topic"},null,8,["modelValue"])]),_:1}),d(f,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8},{default:m(()=>[d(u,{modelValue:n.release.playload,"onUpdate:modelValue":e[2]||(e[2]=b=>n.release.playload=b),placeholder:"Playload"},null,8,["modelValue"])]),_:1}),d(f,{xs:24,sm:24,md:8,lg:8,xl:8,xxl:8,style:{"text-align":"right"}},{default:m(()=>[d(i,{disabled:!n.hasSocketEntity,onClick:n.onSendMessage},{default:m(()=>[q("\u53D1\u5E03")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["gutter"]),d(g,{gutter:n.gutter,class:"msg-box"},{default:m(()=>[d(f,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12},{default:m(()=>[Se("label",{onClick:e[3]||(e[3]=b=>n.onRefresh(1))},[q(" \u5DF2\u63A5\u6536 "),d(y)]),d(k,{data:n.messages,columns:[{title:"Topic",dataIndex:"topic",width:300},{title:"Playload",dataIndex:"playload",tooltip:{position:"left"},ellipsis:!0},{title:"\u65F6\u95F4",dataIndex:"timestamp",width:200}]},null,8,["data"])]),_:1}),d(f,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12},{default:m(()=>[Se("label",{onClick:e[4]||(e[4]=b=>n.onRefresh(2))},[q(" \u5DF2\u53D1\u9001 "),d(y)]),d(k,{data:n.clientMessages,columns:[{title:"Topic",dataIndex:"topic",width:300},{title:"Playload",dataIndex:"playload",tooltip:{position:"left"},ellipsis:!0},{title:"\u65F6\u95F4",dataIndex:"timestamp",width:200}]},null,8,["data"])]),_:1})]),_:1},8,["gutter"])]),_:1})])}const _s=Ye(Zn,[["render",ts],["__scopeId","data-v-5d382766"]]);export{_s as default};
