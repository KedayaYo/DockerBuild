var H=Object.defineProperty;var S=(n,e,i)=>e in n?H(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var _=(n,e,i)=>(S(n,typeof e!="symbol"?e+"":e,i),i);import{H as U}from"./index.9fa6ecce.js";/* empty css              *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               */import{d as q,f as s,r as D,C as p,D as v,aJ as a,aI as l,aN as c,aL as J,aK as L,aE as $,aZ as b,n as z,ba as E,b9 as M,bG as R,be as W,b5 as G,b6 as K,bN as Z,bO as j,bI as P,bb as Q,b2 as X}from"./arco.35cd4a57.js";import{f as Y,A as f}from"./index.571baf06.js";import"./chart.c690dcf1.js";import"./vue.1515c820.js";class h{constructor(){_(this,"uri","/cloud_apis")}addAgreement(e){return U.post(`${this.uri}`,e)}}const ee=new h,ae={class:"container"},Ne=q({__name:"index",setup(n){const e=s(!1),i=s(Y(f)),m=s(),r=s({protofName:"",deviceType:1,remark:""}),g=s([{protofName:"DJI\u4E0A\u4E91\u534F\u8BAE",deviceType:f[1],createTime:"2023 10-24 12:30:21",updateTime:"2023 10-24 12:30:21",remark:"HelloWorld"},{protofName:"DJI\u4E0A\u4E91\u534F\u8BAE",deviceType:f[2],createTime:"2023 10-24 12:30:21",updateTime:"2023 10-24 12:30:21",remark:"HelloWorld"}]),k=[{dataIndex:"protofName",title:"\u534F\u8BAE\u540D\u79F0"},{dataIndex:"deviceType",title:"\u534F\u8BAE\u7C7B\u578B",align:"center"},{dataIndex:"createTime",title:"\u521B\u5EFA\u65F6\u95F4",align:"center"},{dataIndex:"updateTime",title:"\u4FEE\u6539\u65F6\u95F4",align:"center"},{dataIndex:"operation",title:"\u64CD\u4F5C",align:"center",render:({record:u})=>a(E,null,{default:()=>[a(b,{type:"primary",size:"mini",onClick:async()=>{e.value=!0,await z(),r.value={...u}}},{default:()=>[c("\u7F16\u8F91")]}),a(b,{type:"primary",status:"danger",size:"mini"},{default:()=>[c("\u5220\u9664")]})]})}],y=D({protofName:[{required:!0,message:"\u8BF7\u586B\u5199\u534F\u8BAE\u540D\u79F0"}],deviceType:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BBE\u5907\u7C7B\u578B"}],remark:[{required:!0,message:"\u8BF7\u586B\u5199\u5907\u6CE8"}]}),T=()=>{m.value.resetFields(),e.value=!1},x=async()=>{if(!await m.value.validate()){const t=await ee.addAgreement(r.value);return console.log(t),!!t.code}return!1};return(u,t)=>{const N=M,I=R,V=W,A=G,d=K,C=Z,F=j,w=P,B=Q,O=X;return p(),v("div",ae,[a(V,{title:"\u8BBE\u5907\u534F\u8BAE\u7BA1\u7406",style:{width:"100%"}},{extra:l(()=>[a(N,{onClick:t[0]||(t[0]=o=>e.value=!0)},{default:l(()=>[c("\u65B0\u589E")]),_:1})]),default:l(()=>[a(I,{data:g.value,columns:k},null,8,["data"])]),_:1}),a(O,{visible:e.value,"onUpdate:visible":t[4]||(t[4]=o=>e.value=o),title:"\u8BBE\u5907\u534F\u8BAE\u4FE1\u606F","unmount-on-close":!0,"mask-closable":!1,onCancel:T,onBeforeOk:x},{default:l(()=>[a(B,{ref_key:"agreementFormRef",ref:m,layout:"vertical",model:r.value,rules:y},{default:l(()=>[a(d,{label:"\u534F\u8BAE\u540D\u79F0",field:"protofName"},{default:l(()=>[a(A,{modelValue:r.value.protofName,"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.protofName=o)},null,8,["modelValue"])]),_:1}),a(d,{label:"\u8BBE\u5907\u7C7B\u578B",field:"deviceType"},{default:l(()=>[a(F,{modelValue:r.value.deviceType,"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.deviceType=o)},{default:l(()=>[(p(!0),v(J,null,L(i.value,o=>(p(),$(C,{key:o.value,label:o.title,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"\u5907\u6CE8",field:"remark"},{default:l(()=>[a(w,{modelValue:r.value.remark,"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.remark=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible"])])}}});export{Ne as default};
